{"version":3,"sources":["assets/logo.png","components/Container.js","components/game/utils/glyphLayout.js","components/game/utils/loadFontFile.js","components/game/utils/coordUtils.js","utils/axios.js","utils/analytics.js","components/game/screens/LeaderBoardScreen.js","components/game/systems/BgRenderSystem.js","components/game/systems/BasketRenderSystem.js","components/game/systems/InputHandlerGameScreenSystem.js","components/game/systems/BasketPositionSystem.js","components/game/systems/ProductSpawnSystem.js","components/game/systems/ProductPositionSystem.js","components/game/systems/ProductRenderSystem.js","components/game/systems/BasketCollideSystem.js","components/game/systems/ScoreCaculateSystem.js","components/game/systems/LifeRenderSystem.js","components/game/systems/StarEffectRenderSystem.js","components/game/systems/StunScreenSystem.js","components/game/systems/WhiteSmokeRenderSystem.js","components/game/systems/VitaminARenderSystem.js","components/game/systems/ScoreRenderSystem.js","components/game/screens/GameScreen.js","components/game/utils/getProduct.js","components/game/utils/createWorld.js","components/game/screens/InstructionScreen2.js","components/game/screens/InstructionScreen.js","components/Modal.js","components/game/index.js","components/GameModal.js","components/Body.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","className","wrapperClassName","children","clsx","checkKerning","id1","id2","kerningsData","check","amount","kerning","first","second","GlyphLayour","pageImage","regions","keringsData","canvasWidth","addToCache","line","px","py","lineBreak","lineH","xAdvance","index","length","currChar","charCodeAt","preChar","key","findRegions","kerningAmount","cache","push","x","xoffset","scale","y","yoffset","width","height","xadvance","beforeDrawing","posX","posY","fontSize","CharSequence","preDraw","spaceXadvance","tmpLength","tmplist","i","char","maxSeq","Math","max","newbase","baseLine","listCharSeq","trim","split","map","s","si","oriWidth","tmpRatio","fixedWidth","lineHeight","accumulate","tmpChar","j","key2","substring","id","positionBreak","lastBreakIndex","tmp","key3","getPositionBasedOnMode","lastLine","tmpXadvance","lastKey","type","oriHeight","align","round","getOriginWidth","setAlignMode","mode","setType","setLineHeight","setFixedGlyphWidth","fixedW","draw","batch","this","base","position","Vector2","newBase","AlignMode","TextType","concatAndResolveUrl","url","concat","url1","url2","url3","l","pop","join","gl","packFileUrl","textureOptions","a","fetch","then","res","text","packFileContent","pages","regionsData","lines","tmp_array","push_to_kerning","numOfPages","startPageLine","tuple","pageCounter","saveIndex","undefined","filter","item","parseInt","face","size","bold","italic","charset","unicode","stretchH","smooth","aa","padding","spacing","outline","scaleW","scaleH","num_of_pages","packed","alphaChnl","redChnl","greenChnl","blueChnl","page_id","file","left","top","page","region","id_page","loadTexture","texture","invTextWidth","invTextHeight","regionData","invTexWidth","invTexHeight","TextureRegion","getLineHeight","getPages","getRegions","setNewText","checkPointInsideRect","axios","create","baseURL","process","point","verts","DEVICE_PIXEL_RATIO","minX","maxX","minY","maxY","analytics","Analytics","app","plugins","googleAnalytics","trackingId","createLeaderBoardSystem","Game","canvas","viewport","camera","assets","fonts","whiteTex","goToInstructionScreen","score","createInstructionScreenSystem","setCurrentScreen","inputHandler","createViewportAwareInputHandler","atlas","gameAssets","bg","findRegion","border","board","tree","fbButton","iButton","retryButton","lattern","flower","BOARD_WIDTH","BOARD_HEIGHT","B_HEIGHT","B_WIDTH","TREE_WIDTH","TREE_HEIGHT","BUTTON_WIDTH","BUTTON_HEIGHT","L_WIDTH","L_HEIGHT","F_WIDTH","F_HEIGHT","FB_RECT","I_RECT","RETRY_RECT","scoreFont","font","nameFont","coord","addEventListener","setVector","getTouchedWorldCoord","window","open","userScore","scoreSize","userNameText","userScoreText","scoreWidth","namePosition","scorePosition","flowerPosition","scaleFlower","opacityFlower","userNameSize","userScoreSize","loopLength","players","username","update","delta","setProjection","combined","begin","setColor","end","destroy","cleanup","createBackGroundRenderSystem","init","worldState","createBasketRenderSystem","basketFront","basketBack","productInfos","collectionPosition","basketState","productInBasketTex","P_WIDTH","P_HEIGHT","image","tex","collection","enable","createInputHandlerGameScreenSystem","worldCoord","target","trayState","createBasketPositionSystem","subVector","nor","speed","distanceSqr","len2","addVector","createProductSpawnSystem","pattern","delayTime","timer","xIndex","productTex","fakeProductTex","difficulty","products","stateTime","number","random","getPattern","min","loop","tmpIndex","isFake","randomProduct","floor","speedY","getDelayBaseOnDifficulty","createProductPositionSystem","whiteSmokeList","accY","splice","createProductRenderSystem","product","fakeProductInfos","createBasketCollideSystem","life","starList","got","correctCatch","console","log","vitaminACounter","speedX","time","scaleSpeed","accuX","distance","lifeIndex","stunScreen","createScoreCalcSystem","extra","createLifeRenderSystem","openEye","closeEye","O_HEIGHT","C_HEIGHT","lifeTex","createStarEffectRenderSystem","startTex","S1_WIDTH","S1_HEIGHT","S2_WIDTH","S2_HEIGHT","count","createStunScreenRenderSystem","opacity","fillRect","createWhiteSmokeRenderSystem","smokeAnimation","SMOKE_WIDTH","SMOKE_HEIGHT","frameLength","effect","smoke","createAnimation","getKeyFrame","gameOver","finishGame","createVitaminARenderSystem","V_WIDTH","V_HEIGHT","vitaminTex","createScoreRenderSystem","scoreText","logo","scoreTex","LG_WIDTH","LG_HEIGHT","S_WIDTH","S_HEIGHT","createGameScreenSystem","BASKET_INITIAL_Y","BASKET_WIDTH","BASKET_BACK_HEIGHT","getFakeProductTex","getProductInBasketTex","emptyLife","collectionFinished","world","systems","passiveSystems","addSystem","system","passive","runPassive","createWorld","goToLeaderBoardScreen","counter","createInstructionScreen2System","goToGameScreen","backGround","panel2","PANEL_WIDTH","PANEL_HEIGHT","goToInstructionScreen2","panel1","createViewport","getCamera","getContext","createBatch","createWhiteText","screen","currentScreen","foxLogo","LOGO_HEIGHT","LOGO_WIDTH","ratio","doAndCount","promise","result","Promise","all","loadAtlas","loadFontFile","clearColor","clear","COLOR_BUFFER_BIT","createGameLoop","onClose","canvasRef","useRef","infosRef","useEffect","current","initGame","Modal","ref","Fragment","Container","GameModal","App","Body","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.567ebe27.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport \"./container.css\";\r\n\r\nexport default ({ className, wrapperClassName, children }) => {\r\n  return (\r\n    <div className={clsx(\"container-wrapper\", wrapperClassName)}>\r\n      <div className={clsx(\"container\", className)}>{children}</div>\r\n    </div>\r\n  );\r\n};\r\n","import { Vector2 } from \"gdxjs\";\r\n\r\nconst checkKerning = (id1, id2, kerningsData) => {\r\n  let check = false;\r\n  let amount = 0;\r\n  for (let kerning of kerningsData) {\r\n    if (kerning.first === id1 && kerning.second === id2) {\r\n      amount = kerning.amount;\r\n      check = true;\r\n      break;\r\n    } else {\r\n      check = false;\r\n    }\r\n  }\r\n  if (check) {\r\n    return amount;\r\n  } else {\r\n    return 0;\r\n  }\r\n};\r\n\r\nexport default class GlyphLayour {\r\n  constructor(pageImage, regions, keringsData, canvasWidth) {\r\n    this.pageImage = pageImage;\r\n    this.regions = regions;\r\n    this.kerningsData = keringsData;\r\n    this.canvasWidth = canvasWidth;\r\n    this.type = 0;\r\n    this.align = 2;\r\n    this.lineHeight = pageImage.lineHeight;\r\n    this.baseLine = pageImage.base;\r\n    this.fixedWidth = canvasWidth;\r\n    // temp variable\r\n    this.position = new Vector2(0, 0);\r\n    this.scale = 0;\r\n    this.newBase = 0;\r\n    this.oriWidth = 0;\r\n    this.oriHeight = 0;\r\n    this.positionBreak = []; // list of break-position's index\r\n    this.lastBreakIndex = 0;\r\n    // pre draw\r\n    this.cache = [];\r\n    this.preDraw = true;\r\n  }\r\n  addToCache = (line, px, py, lineBreak, lineH) => {\r\n    let xAdvance = 0;\r\n    for (let index = 0; index < line.length; index++) {\r\n      const currChar = line.charCodeAt(index);\r\n      const preChar = line.charCodeAt(index - 1);\r\n      let key = this.findRegions(currChar);\r\n      let kerningAmount = checkKerning(preChar, currChar, this.kerningsData);\r\n      // let kerningAmount = checkKerning(currChar, preChar, this.kerningsData);\r\n      this.cache.push({\r\n        key: key,\r\n        x:\r\n          px + xAdvance + key.xoffset * this.scale + kerningAmount * this.scale,\r\n        y: py + key.yoffset * this.scale + lineBreak * this.scale + lineH,\r\n        width: key.width * this.scale,\r\n        height: key.height * this.scale,\r\n      });\r\n      xAdvance += key.xadvance * this.scale;\r\n    }\r\n  };\r\n\r\n  beforeDrawing = (posX, posY, fontSize, CharSequence) => {\r\n    if (this.preDraw) {\r\n      let spaceXadvance = 0;\r\n      let tmpLength = 0;\r\n      let tmplist = [];\r\n      // find longest sequence\r\n      for (let i = 0; i < CharSequence.length; i++) {\r\n        const char = CharSequence.charCodeAt(i);\r\n        const key = this.findRegions(char);\r\n        if (char !== 32) {\r\n          tmpLength += key.xadvance * this.scale;\r\n        } else {\r\n          spaceXadvance = key.xadvance * this.scale;\r\n          tmplist.push(tmpLength);\r\n          tmpLength = 0;\r\n        }\r\n      }\r\n      let maxSeq = Math.max(...tmplist) + spaceXadvance;\r\n      //////////////////\r\n      this.newbase = fontSize;\r\n      this.scale = this.newbase / this.baseLine;\r\n      CharSequence = CharSequence.trim();\r\n\r\n      // split string between /n\r\n      let listCharSeq = CharSequence.split(\"/n\").map((s) => s.trim());\r\n      let lineH = 0;\r\n      for (let si = 0; si < listCharSeq.length; si++) {\r\n        CharSequence = listCharSeq[si];\r\n        // find new origin Width for each line\r\n        this.oriWidth = 0;\r\n        for (let i = 0; i < CharSequence.length; i++) {\r\n          const char = CharSequence.charCodeAt(i);\r\n          const preChar = CharSequence.charCodeAt(i - 1);\r\n          const key = this.findRegions(char);\r\n          let kerningAmount = checkKerning(preChar, char, this.kerningsData); // new\r\n          this.oriWidth += kerningAmount * this.scale; // new\r\n          if (i < CharSequence.length - 1) {\r\n            this.oriWidth += key.xadvance * this.scale;\r\n          } else {\r\n            this.oriWidth += key.xadvance * this.scale;\r\n          }\r\n        }\r\n        let tmpRatio = this.oriWidth / this.fixedWidth;\r\n        lineH = this.lineHeight * this.scale * si;\r\n        let accumulate = 0;\r\n        let tmpChar = \"\";\r\n        let lineBreak = 0;\r\n        // finding position break and length of each line\r\n        // only execute if oriWidth > fixedWidth and fixedWidth > longest seq\r\n        if (tmpRatio > 1 && this.fixedWidth > maxSeq) {\r\n          for (let i = 0; i < CharSequence.length; i++) {\r\n            tmpChar += CharSequence[i];\r\n            const char = CharSequence.charCodeAt(i);\r\n            const key = this.findRegions(char);\r\n            accumulate += key.xadvance * this.scale;\r\n            // every line before last line\r\n            if (accumulate >= this.fixedWidth) {\r\n              let j = i;\r\n              while (j >= 0) {\r\n                i--;\r\n                j--;\r\n                const key2 = this.findRegions(CharSequence.charCodeAt(i));\r\n                accumulate -= key2.xadvance * this.scale;\r\n                tmpChar = tmpChar.substring(0, tmpChar.length - 1);\r\n                if (accumulate <= this.fixedWidth && key2.id === 32) {\r\n                  lineBreak = this.lineHeight * this.positionBreak.length;\r\n                  this.positionBreak.push(i); ///\r\n                  this.lastBreakIndex = i;\r\n                  const line = tmpChar.trim();\r\n                  let tmp = 0;\r\n                  let key3 = 0;\r\n\r\n                  for (let index = 0; index < line.length; index++) {\r\n                    key3 = this.findRegions(line.charCodeAt(index));\r\n                    if (index === line.length - 1) {\r\n                      tmp += key3.width * this.scale;\r\n                    } else {\r\n                      tmp += key3.xadvance * this.scale;\r\n                    }\r\n                  }\r\n                  let [px, py] = this.getPositionBasedOnMode(posX, posY, tmp);\r\n\r\n                  this.addToCache(line, px, py, lineBreak, lineH);\r\n\r\n                  accumulate = 0;\r\n                  j = -1;\r\n                  tmpChar = \"\";\r\n                }\r\n              }\r\n            }\r\n            // last line\r\n            if (i === CharSequence.length - 1 && accumulate < this.oriWidth) {\r\n              let tmpChar = \"\";\r\n              for (let j = this.lastBreakIndex; j <= i; j++) {\r\n                tmpChar += CharSequence[j];\r\n              }\r\n              const lastLine = tmpChar.trim();\r\n              let tmpXadvance = 0;\r\n              let lastKey = 0;\r\n              for (let index = 0; index < lastLine.length; index++) {\r\n                lastKey = this.findRegions(lastLine.charCodeAt(index));\r\n                if (index === lastLine.length - 1) {\r\n                  tmpXadvance += lastKey.width * this.scale;\r\n                } else {\r\n                  tmpXadvance += lastKey.xadvance * this.scale;\r\n                }\r\n              }\r\n              let [px, py] = this.getPositionBasedOnMode(\r\n                posX,\r\n                posY,\r\n                tmpXadvance\r\n              );\r\n              lineBreak = this.lineHeight * this.positionBreak.length;\r\n              this.addToCache(lastLine, px, py, lineBreak, lineH);\r\n            }\r\n          }\r\n        }\r\n        // if originWidth < fixedWidth or fixedWidth < longest sequence\r\n        if (tmpRatio <= 1 || this.fixedWidth < maxSeq) {\r\n          let [px, py] = this.getPositionBasedOnMode(posX, posY, this.oriWidth);\r\n          this.addToCache(CharSequence, px, py, 0, lineH);\r\n        }\r\n      }\r\n      if (this.type === 0) {\r\n        this.preDraw = false;\r\n      }\r\n      this.oriHeight = this.newbase;\r\n    }\r\n  };\r\n\r\n  getPositionBasedOnMode = (posX, posY, oriWidth) => {\r\n    if (this.align === 0) {\r\n      // posY -= Math.round(this.oriHeight / 2);\r\n      posX -= Math.round(oriWidth / 2);\r\n    } else if (this.align === 1) {\r\n      posX -= oriWidth;\r\n    }\r\n    return [posX, posY];\r\n  };\r\n\r\n  getOriginWidth = () => {\r\n    return this.oriWidth;\r\n  };\r\n\r\n  setAlignMode = (mode) => {\r\n    this.align = mode;\r\n  };\r\n\r\n  setType = (type) => {\r\n    this.type = type;\r\n  };\r\n\r\n  setLineHeight = (lineHeight) => {\r\n    this.lineHeight = lineHeight;\r\n  };\r\n\r\n  setFixedGlyphWidth = (fixedW) => {\r\n    this.fixedWidth = fixedW;\r\n    // this.fixedHeight = fixedH;\r\n  };\r\n\r\n  findRegions = (id) => {\r\n    for (let i = 0; i < this.regions.length; i++) {\r\n      if (this.regions[i].id === id) {\r\n        return this.regions[i];\r\n      }\r\n    }\r\n  };\r\n\r\n  draw = (batch, CharSequence = \"\", posX, posY, fontSize = this.baseLine) => {\r\n    if (this.type === 0) {\r\n      if (this.preDraw) {\r\n        this.beforeDrawing(posX, posY, fontSize, CharSequence);\r\n      }\r\n      for (let i = 0; i < this.cache.length; i++) {\r\n        let cache = this.cache[i];\r\n        cache.key.draw(batch, cache.x, cache.y, cache.width, cache.height);\r\n      }\r\n    }\r\n\r\n    if (this.type === 1) {\r\n      this.beforeDrawing(posX, posY, fontSize, CharSequence);\r\n      for (let i = 0; i < this.cache.length; i++) {\r\n        let cache = this.cache[i];\r\n        cache.key.draw(batch, cache.x, cache.y, cache.width, cache.height);\r\n      }\r\n      this.cache.length = 0;\r\n      this.positionBreak.length = 0;\r\n    }\r\n  };\r\n}\r\n","import { loadTexture, TextureRegion } from \"gdxjs\";\r\nimport GlyphLayour from \"./glyphLayout\";\r\n\r\nexport const AlignMode = {\r\n  center: 0,\r\n  right: 1,\r\n  left: 2,\r\n};\r\n\r\nexport const TextType = {\r\n  static: 0,\r\n  dynamic: 1,\r\n};\r\n\r\nfunction concatAndResolveUrl(url, concat) {\r\n  let url1 = url.split(\"/\");\r\n  let url2 = concat.split(\"/\");\r\n  let url3 = [];\r\n\r\n  for (let i = 0, l = url1.length; i < l; i++) {\r\n    if (url1[i] === \"..\") {\r\n      url3.pop();\r\n    } else if (url1[i] === \".\") {\r\n      continue;\r\n    } else {\r\n      url3.push(url1[i]);\r\n    }\r\n  }\r\n\r\n  for (let i = 0, l = url2.length; i < l; i++) {\r\n    if (url2[i] === \"..\") {\r\n      url3.pop();\r\n    } else if (url2[i] === \".\") {\r\n      continue;\r\n    } else {\r\n      url3.push(url2[i]);\r\n    }\r\n  }\r\n\r\n  return url3.join(\"/\");\r\n}\r\n\r\nexport default async (gl, packFileUrl, textureOptions) => {\r\n  const packFileContent = await fetch(packFileUrl).then((res) => res.text());\r\n  const pages = [];\r\n  const regionsData = [];\r\n  const kerningsData = [];\r\n  let pageImage = null;\r\n  const lines = packFileContent.split(\"\\n\");\r\n  let i = 0;\r\n  let tuple;\r\n  let tmp_array = [];\r\n  let push_to_kerning = false;\r\n\r\n  let numOfPages = 0;\r\n  let startPageLine = 2;\r\n  while (true) {\r\n    let line = lines[startPageLine];\r\n    tmp_array.length = 0;\r\n    tuple = line.split(\" \").map((s) => s.trim());\r\n    if (tuple[0] === \"page\") {\r\n      numOfPages += 1;\r\n    } else {\r\n      break;\r\n    }\r\n    startPageLine += 1;\r\n  }\r\n\r\n  let pageCounter = -1;\r\n  let saveIndex = 2 + numOfPages + 1; // index to start finding region data\r\n\r\n  while (true) {\r\n    let line = lines[i];\r\n\r\n    if (line === undefined) {\r\n      push_to_kerning = false;\r\n      break;\r\n    }\r\n\r\n    if (line.split(\" \").length === 2) {\r\n      const tmp = line.split(\" \");\r\n      if (tmp[0] === \"kernings\") {\r\n        push_to_kerning = true;\r\n      }\r\n      i++;\r\n      line = lines[i];\r\n    }\r\n\r\n    if (push_to_kerning && pageImage !== null) {\r\n      tuple = line.split(\" \").map((s) => s.trim());\r\n      tuple = tuple.filter((item) => item !== \"\");\r\n      tmp_array.length = 0;\r\n\r\n      for (let i = 1; i < tuple.length; i++) {\r\n        tmp_array.push(tuple[i].split(\"=\")[1]);\r\n      }\r\n      const first = parseInt(tmp_array[0], 10);\r\n      const second = parseInt(tmp_array[1], 10);\r\n      const amount = parseInt(tmp_array[2], 10);\r\n      kerningsData.push({ first, second, amount });\r\n    }\r\n\r\n    if (pageImage === null) {\r\n      pageCounter += 1;\r\n\r\n      tmp_array.length = 0;\r\n      tuple = line.split(\" \").map((s) => s.trim());\r\n      for (let i = 1; i < tuple.length; i++) {\r\n        tmp_array.push(tuple[i].split(\"=\")[1]);\r\n      }\r\n      const face = tmp_array[0];\r\n      const size = parseInt(tmp_array[1], 10);\r\n      const bold = parseInt(tmp_array[2], 10) === 0 ? false : true;\r\n      const italic = parseInt(tmp_array[3], 10) === 0 ? false : true;\r\n      const charset = tmp_array[4];\r\n      const unicode = parseInt(tmp_array[5], 10);\r\n      const stretchH = parseInt(tmp_array[6], 10); // percentage\r\n      const smooth = parseInt(tmp_array[7], 10);\r\n      const aa = parseInt(tmp_array[8], 10);\r\n      const padding = tmp_array[9].split(\",\").map((i) => parseInt(i, 10));\r\n      const spacing = tmp_array[10].split(\",\").map((i) => parseInt(i, 10));\r\n      const outline = parseInt(tmp_array[11], 10);\r\n\r\n      i++;\r\n      line = lines[i];\r\n      tmp_array.length = 0;\r\n      tuple = line.split(\" \").map((s) => s.trim());\r\n      for (let i = 1; i < tuple.length; i++) {\r\n        tmp_array.push(tuple[i].split(\"=\")[1]);\r\n      }\r\n      const lineHeight = parseInt(tmp_array[0], 10);\r\n      const base = parseInt(tmp_array[1], 10);\r\n      const scaleW = parseInt(tmp_array[2], 10);\r\n      const scaleH = parseInt(tmp_array[3], 10);\r\n      const num_of_pages = parseInt(tmp_array[4], 10);\r\n      const packed = parseInt(tmp_array[5], 10);\r\n      const alphaChnl = parseInt(tmp_array[6], 10);\r\n      const redChnl = parseInt(tmp_array[7], 10);\r\n      const greenChnl = parseInt(tmp_array[8], 10);\r\n      const blueChnl = parseInt(tmp_array[9], 10);\r\n\r\n      i = i + pageCounter + 1;\r\n      line = lines[i];\r\n      tmp_array.length = 0;\r\n      tuple = line.split(\" \").map((s) => s.trim());\r\n      for (let i = 1; i < tuple.length; i++) {\r\n        tmp_array.push(tuple[i].split(\"=\")[1]);\r\n      }\r\n      const page_id = parseInt(tmp_array[0], 10);\r\n      const url = tmp_array[1].split('\"');\r\n      const file = concatAndResolveUrl(packFileUrl, `../${url[1]}`);\r\n\r\n      pageImage = {\r\n        file,\r\n        page_id,\r\n        face,\r\n        size,\r\n        bold,\r\n        italic,\r\n        charset,\r\n        unicode,\r\n        stretchH,\r\n        smooth,\r\n        aa,\r\n        padding,\r\n        spacing,\r\n        outline,\r\n        lineHeight,\r\n        base,\r\n        scaleW,\r\n        scaleH,\r\n        num_of_pages,\r\n        packed,\r\n        alphaChnl,\r\n        redChnl,\r\n        greenChnl,\r\n        blueChnl,\r\n      };\r\n      pages.push(pageImage);\r\n\r\n      i = saveIndex;\r\n      line = lines[i];\r\n    }\r\n\r\n    if (!push_to_kerning && pageImage !== null) {\r\n      tuple = line.split(\" \").map((s) => s.trim());\r\n      tuple = tuple.filter((item) => item !== \"\");\r\n      tmp_array.length = 0;\r\n\r\n      for (let i = 1; i < tuple.length; i++) {\r\n        tmp_array.push(tuple[i].split(\"=\")[1]);\r\n      }\r\n      const id = parseInt(tmp_array[0], 10);\r\n      const left = parseInt(tmp_array[1], 10);\r\n      const top = parseInt(tmp_array[2], 10);\r\n      const width = parseInt(tmp_array[3], 10);\r\n      const height = parseInt(tmp_array[4], 10);\r\n      const xoffset = parseInt(tmp_array[5], 10);\r\n      const yoffset = parseInt(tmp_array[6], 10);\r\n      const xadvance = parseInt(tmp_array[7], 10);\r\n      const page = parseInt(tmp_array[8], 10);\r\n      const region = {\r\n        id,\r\n        left,\r\n        top,\r\n        width,\r\n        height,\r\n        xoffset,\r\n        yoffset,\r\n        xadvance,\r\n        page: pageImage,\r\n        id_page: page,\r\n      };\r\n\r\n      if (region.id_page === pageCounter) {\r\n        regionsData.push(region);\r\n      } else {\r\n        if (pageCounter === numOfPages - 1) {\r\n          push_to_kerning = true;\r\n        } else {\r\n          saveIndex = i;\r\n          i = -1;\r\n          pageImage = null;\r\n        }\r\n      }\r\n    }\r\n\r\n    i++;\r\n  }\r\n\r\n  //   console.log(kerningsData);\r\n  //   console.log(pages);\r\n  //   console.log(regionsData);\r\n  for (let page of pages) {\r\n    page.texture = await loadTexture(gl, page.file, textureOptions);\r\n    page.invTextWidth = 1 / page.texture.width;\r\n    page.invTextHeight = 1 / page.texture.height;\r\n  }\r\n\r\n  const regions = [];\r\n\r\n  for (let regionData of regionsData) {\r\n    const left = regionData.left;\r\n    const top = regionData.top;\r\n    const width = regionData.width;\r\n    const height = regionData.height;\r\n    const { texture, invTexWidth, invTexHeight } = regionData.page;\r\n    regions.push(\r\n      new TextureRegion(\r\n        texture,\r\n        left,\r\n        top,\r\n        width,\r\n        height,\r\n        regionData,\r\n        invTexWidth,\r\n        invTexHeight\r\n      )\r\n    );\r\n  }\r\n\r\n  return {\r\n    getLineHeight() {\r\n      return pageImage.lineHeight;\r\n    },\r\n\r\n    getPages() {\r\n      return pages;\r\n    },\r\n\r\n    getRegions() {\r\n      return regions;\r\n    },\r\n\r\n    findRegions(id) {\r\n      for (let i = 0; i < regions.length; i++) {\r\n        if (regions[i].id === id) {\r\n          return regions[i];\r\n        }\r\n      }\r\n    },\r\n\r\n    setNewText(canvasWidth) {\r\n      return new GlyphLayour(pageImage, regions, kerningsData, canvasWidth);\r\n    },\r\n  };\r\n};\r\n","export const checkPointInsideRect = (point, verts, DEVICE_PIXEL_RATIO = 1) => {\r\n  const x = point.x * DEVICE_PIXEL_RATIO;\r\n  const y = point.y * DEVICE_PIXEL_RATIO;\r\n  // const minX = Math.min(verts[0], verts[2], verts[4], verts[6]);\r\n  // const maxX = Math.max(verts[0], verts[2], verts[4], verts[6]);\r\n  // const minY = Math.min(verts[1], verts[3], verts[5], verts[7]);\r\n  // const maxY = Math.max(verts[1], verts[3], verts[5], verts[7]);\r\n\r\n  const minX = verts[0];\r\n  const maxX = verts[0] + verts[2];\r\n  const minY = verts[1];\r\n  const maxY = verts[1] + verts[3];\r\n  if (x < minX || x > maxX || y < minY || y > maxY) return false;\r\n  return true;\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst baseURL = process.env.REACT_APP_API_HOST;\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL,\r\n});\r\nexport default axiosInstance;\r\n","import Analytics from \"analytics\";\r\nimport googleAnalytics from \"@analytics/google-analytics\";\r\n\r\nconst analytics = Analytics({\r\n  app: \"Lu Phan Minigame\",\r\n  plugins: [\r\n    googleAnalytics({\r\n      trackingId: \"UA-171082295-1\",\r\n    }),\r\n  ],\r\n});\r\n\r\nexport default analytics;\r\n","import axios from \"../../../utils/axios\";\r\nimport { createViewportAwareInputHandler, fillRect, Vector2 } from \"gdxjs\";\r\nimport createStartScreenSystem from \"./InstructionScreen\";\r\nimport { checkPointInsideRect } from \"../utils/coordUtils\";\r\nimport createInstructionScreenSystem from \"./InstructionScreen\";\r\n\r\nimport MurmurHash from \"imurmurhash\";\r\n// import analytics from \"../../utils/analytics\";\r\nimport analytics from \"../../../utils/analytics\";\r\n\r\nimport { AlignMode, TextType } from \"../utils/loadFontFile\";\r\n\r\nconst MAGIC = `blah@gamefox`;\r\n\r\nconst createLeaderBoardSystem = (Game) => {\r\n  const {\r\n    canvas,\r\n    viewport,\r\n    width,\r\n    height,\r\n    camera,\r\n    batch,\r\n    assets,\r\n    whiteTex,\r\n    fonts,\r\n    score,\r\n  } = Game;\r\n\r\n  const goToInstructionScreen = async () => {\r\n    Game.setCurrentScreen(await createInstructionScreenSystem(Game));\r\n  };\r\n\r\n  const inputHandler = createViewportAwareInputHandler(canvas, viewport);\r\n\r\n  const atlas = assets.gameAssets;\r\n  const bg = atlas.findRegion(\"bg_leaderboard\", -1);\r\n  const border = atlas.findRegion(\"border\", -1);\r\n  const board = atlas.findRegion(\"leaderboard\", -1);\r\n  const tree = atlas.findRegion(\"tree2\", -1);\r\n  const fbButton = atlas.findRegion(\"facebook\", -1);\r\n  const iButton = atlas.findRegion(\"internet\", -1);\r\n  const retryButton = atlas.findRegion(\"replay\", -1);\r\n  const lattern = atlas.findRegion(\"den_long\", -1);\r\n  const flower = atlas.findRegion(\"flower\", -1);\r\n\r\n  const BOARD_WIDTH = width;\r\n  const BOARD_HEIGHT = (BOARD_WIDTH * board.height) / board.width;\r\n\r\n  const B_HEIGHT = height;\r\n  const B_WIDTH = (B_HEIGHT * border.width) / border.height;\r\n\r\n  const TREE_WIDTH = width;\r\n  const TREE_HEIGHT = (TREE_WIDTH * tree.height) / tree.width;\r\n\r\n  const BUTTON_WIDTH = width / 5.5;\r\n  const BUTTON_HEIGHT = (BUTTON_WIDTH * fbButton.height) / fbButton.width;\r\n\r\n  const L_WIDTH = width * 0.98;\r\n  const L_HEIGHT = (L_WIDTH * lattern.height) / lattern.width;\r\n\r\n  const F_WIDTH = width / 10;\r\n  const F_HEIGHT = (F_WIDTH * flower.height) / flower.width;\r\n\r\n  const FB_RECT = [\r\n    width / 2 - BUTTON_WIDTH / 2 - BUTTON_WIDTH - width / 100,\r\n    (height * 3.15) / 4,\r\n    BUTTON_WIDTH,\r\n    BUTTON_HEIGHT,\r\n  ];\r\n\r\n  const I_RECT = [\r\n    width / 2 - BUTTON_WIDTH / 2,\r\n    (height * 3.15) / 4,\r\n    BUTTON_WIDTH,\r\n    BUTTON_HEIGHT,\r\n  ];\r\n\r\n  const RETRY_RECT = [\r\n    width / 2 + BUTTON_WIDTH / 2 + width / 100,\r\n    (height * 3.15) / 4,\r\n    BUTTON_WIDTH,\r\n    BUTTON_HEIGHT,\r\n  ];\r\n\r\n  const scoreFont = fonts.font;\r\n  const nameFont = fonts.nameFont;\r\n\r\n  // let players = [];\r\n  // const getData = async () => {\r\n  //   try {\r\n  //     analytics.track(\"gameOver\", { score });\r\n  //     const res = await axios.post(\r\n  //       \"/leader-board\",\r\n  //       { score, sig: MurmurHash().hash(`${score};${MAGIC}`).result() },\r\n  //       {\r\n  //         headers: { \"x-access-token\": localStorage.getItem(\"@Token\") },\r\n  //       }\r\n  //     );\r\n  //     players = res.data;\r\n  //   } catch (e) {}\r\n  // };\r\n  // getData();\r\n\r\n  let coord = new Vector2();\r\n  inputHandler.addEventListener(\"touchStart\", () => {\r\n    coord.setVector(inputHandler.getTouchedWorldCoord());\r\n    if (checkPointInsideRect(coord, FB_RECT)) {\r\n      //  https://www.facebook.com/ThankYouEyesEyemiru\r\n      window.open(\"https://www.facebook.com/ThankYouEyesEyemiru\", \"_blank\");\r\n    } else if (checkPointInsideRect(coord, I_RECT)) {\r\n      //  https://eyemiru.net.vn/en/\r\n      window.open(\"https://eyemiru.net.vn/en/\", \"_blank\");\r\n    } else if (checkPointInsideRect(coord, RETRY_RECT)) {\r\n      goToInstructionScreen();\r\n    }\r\n  });\r\n\r\n  const userScore = scoreFont.setNewText(width);\r\n  const scoreSize = width / 7.2;\r\n\r\n  const userNameText = [\r\n    nameFont.setNewText(width),\r\n    nameFont.setNewText(width),\r\n    nameFont.setNewText(width),\r\n  ];\r\n  const userScoreText = [\r\n    scoreFont.setNewText(width),\r\n    scoreFont.setNewText(width),\r\n    scoreFont.setNewText(width),\r\n  ];\r\n\r\n  let scoreWidth = [];\r\n\r\n  const namePosition = [\r\n    (height * 1.23) / 3,\r\n    (height * 1.53) / 3,\r\n    (height * 1.815) / 3,\r\n  ];\r\n  const scorePosition = [\r\n    (height * 1.28) / 3,\r\n    (height * 1.58) / 3,\r\n    (height * 1.865) / 3,\r\n  ];\r\n\r\n  const flowerPosition = [\r\n    (height * 1.28) / 3,\r\n    (height * 1.58) / 3,\r\n    (height * 1.865) / 3,\r\n  ];\r\n\r\n  const scaleFlower = [1, 0.75, 0.5];\r\n  const opacityFlower = [1, 0.75, 0.5];\r\n\r\n  const userNameSize = width / 30;\r\n  const userScoreSize = width / 11.5;\r\n  let loopLength = 0; // top 3 player ll be display\r\n\r\n  let players = [\r\n    { username: \"Ch tht\", score: 10000 },\r\n    { username: \"DOG\", score: 9999 },\r\n    { username: \"Bn\", score: Game.score },\r\n  ];\r\n\r\n  const update = (delta) => {\r\n    batch.setProjection(camera.combined);\r\n    batch.begin();\r\n    bg.draw(batch, 0, 0, width, height);\r\n    board.draw(\r\n      batch,\r\n      width / 2 - BOARD_WIDTH / 2,\r\n      height / 8,\r\n      BOARD_WIDTH,\r\n      BOARD_HEIGHT\r\n    );\r\n    tree.draw(\r\n      batch,\r\n      width / 2 - TREE_WIDTH / 2,\r\n      height - TREE_HEIGHT,\r\n      TREE_WIDTH,\r\n      TREE_HEIGHT\r\n    );\r\n    border.draw(batch, 0, 0, B_WIDTH, B_HEIGHT);\r\n    border.draw(batch, width - B_WIDTH, 0, B_WIDTH, B_HEIGHT);\r\n    lattern.draw(batch, width / 2 - L_WIDTH / 2, height / 3, L_WIDTH, L_HEIGHT);\r\n\r\n    fbButton.draw(\r\n      batch,\r\n      width / 2 - BUTTON_WIDTH / 2 - BUTTON_WIDTH - width / 100,\r\n      (height * 3.15) / 4,\r\n      BUTTON_WIDTH,\r\n      BUTTON_HEIGHT\r\n    );\r\n\r\n    iButton.draw(\r\n      batch,\r\n      width / 2 - BUTTON_WIDTH / 2,\r\n      (height * 3.15) / 4,\r\n      BUTTON_WIDTH,\r\n      BUTTON_HEIGHT\r\n    );\r\n\r\n    retryButton.draw(\r\n      batch,\r\n      width / 2 + BUTTON_WIDTH / 2 + width / 100,\r\n      (height * 3.15) / 4,\r\n      BUTTON_WIDTH,\r\n      BUTTON_HEIGHT\r\n    );\r\n    batch.setColor(0, 0, 0, 1);\r\n    userScore.draw(\r\n      batch,\r\n      `${Game.score}`,\r\n      (width * 1.07) / 2,\r\n      (height * 2.77) / 4,\r\n      scoreSize\r\n    );\r\n    batch.setColor(1, 1, 1, 1);\r\n\r\n    if (players.length > 0) {\r\n      batch.setColor(0, 0, 0, 1);\r\n      loopLength = players.length > 3 ? 3 : players.length;\r\n      scoreWidth.length = 0;\r\n      for (let i = 0; i < loopLength; i++) {\r\n        userNameText[i].setAlignMode(AlignMode.center);\r\n        userNameText[i].draw(\r\n          batch,\r\n          `${players[i].username}`,\r\n          width / 2,\r\n          namePosition[i],\r\n          userNameSize\r\n        );\r\n\r\n        userScoreText[i].setAlignMode(AlignMode.center);\r\n        userScoreText[i].draw(\r\n          batch,\r\n          `${players[i].score}`,\r\n          width / 2,\r\n          scorePosition[i],\r\n          userScoreSize\r\n        );\r\n        scoreWidth.push(userScoreText[i].getOriginWidth());\r\n      }\r\n      batch.setColor(1, 1, 1, 1);\r\n    }\r\n\r\n    for (let i = 0; i < loopLength; i++) {\r\n      batch.setColor(1, 1, 1, opacityFlower[i]);\r\n      flower.draw(\r\n        batch,\r\n        width / 2 - scoreWidth[i] / 2 - F_WIDTH,\r\n        flowerPosition[i],\r\n        F_WIDTH,\r\n        F_HEIGHT,\r\n        F_WIDTH / 2,\r\n        F_HEIGHT / 2,\r\n        0,\r\n        scaleFlower[i],\r\n        scaleFlower[i]\r\n      );\r\n\r\n      flower.draw(\r\n        batch,\r\n        width / 2 + scoreWidth[i] / 2,\r\n        flowerPosition[i],\r\n        F_WIDTH,\r\n        F_HEIGHT,\r\n        F_WIDTH / 2,\r\n        F_HEIGHT / 2,\r\n        0,\r\n        scaleFlower[i],\r\n        scaleFlower[i]\r\n      );\r\n    }\r\n    batch.setColor(1, 1, 1, 1);\r\n\r\n    batch.end();\r\n  };\r\n  return {\r\n    update,\r\n    destroy() {\r\n      inputHandler.cleanup();\r\n    },\r\n  };\r\n};\r\nexport default createLeaderBoardSystem;\r\n","const createBackGroundRenderSystem = () => {\r\n  let bg, border;\r\n  let BG_WIDTH, BG_HEIGHT, B_WIDTH, B_HEIGHT;\r\n\r\n  return {\r\n    init(worldState, { width, height, assets }) {\r\n      let atlas = assets.gameAssets;\r\n\r\n      bg = atlas.findRegion(\"BG\", -1);\r\n      border = atlas.findRegion(\"border\", -1);\r\n\r\n      BG_HEIGHT = height;\r\n      BG_WIDTH = (BG_HEIGHT * bg.width) / bg.height;\r\n\r\n      B_HEIGHT = height;\r\n      B_WIDTH = (B_HEIGHT * border.width) / border.height;\r\n    },\r\n    update(delta, worldState, { batch, width, height, camera }) {\r\n      batch.setProjection(camera.combined);\r\n      batch.begin();\r\n      batch.setColor(1, 1, 1, 1);\r\n      bg.draw(batch, 0, 0, width, height);\r\n\r\n      border.draw(batch, 0, 0, B_WIDTH, B_HEIGHT);\r\n      border.draw(batch, width - B_WIDTH, 0, B_WIDTH, B_HEIGHT);\r\n\r\n      batch.end();\r\n    },\r\n  };\r\n};\r\n\r\nexport default createBackGroundRenderSystem;\r\n","const createBasketRenderSystem = () => {\r\n  let basketFront, basketBack;\r\n  let F_HEIGHT, B_HEIGHT;\r\n  let productInfos = [];\r\n  let collectionPosition = [];\r\n  return {\r\n    init({ basketState }, { width, assets, productInBasketTex }) {\r\n      let atlas = assets.gameAssets;\r\n      basketFront = atlas.findRegion(\"basket_front\", -1);\r\n      basketBack = atlas.findRegion(\"basket_back\", -1);\r\n\r\n      F_HEIGHT = (basketState.width * basketFront.height) / basketFront.width;\r\n      B_HEIGHT = (basketState.width * basketBack.height) / basketBack.width;\r\n\r\n      // collection infos\r\n      const P_WIDTH = width / 8;\r\n\r\n      for (let i = 0; i < productInBasketTex.length; i++) {\r\n        const P_HEIGHT =\r\n          (P_WIDTH * productInBasketTex[i].image.height) /\r\n          productInBasketTex[i].image.width;\r\n\r\n        productInfos.push({\r\n          tex: productInBasketTex[i].image,\r\n          width: P_WIDTH,\r\n          height: P_HEIGHT,\r\n        });\r\n      }\r\n    },\r\n\r\n    update(\r\n      delta,\r\n      { basketState, collection },\r\n      { batch, width, height, camera }\r\n    ) {\r\n      collectionPosition = [\r\n        {\r\n          x: basketState.x - productInfos[0].width * 0.9,\r\n          y: basketState.y - basketState.height * 1.4,\r\n        },\r\n        {\r\n          x: basketState.x - productInfos[1].width * 0.1,\r\n          y: basketState.y - basketState.height * 1.3,\r\n        },\r\n        {\r\n          x: basketState.x - productInfos[2].width * 0.45,\r\n          y: basketState.y - basketState.height * 1.45,\r\n        },\r\n      ];\r\n\r\n      batch.setProjection(camera.combined);\r\n      batch.begin();\r\n      batch.setColor(1, 1, 1, 1);\r\n\r\n      basketBack.draw(\r\n        batch,\r\n        basketState.x - basketState.width / 2,\r\n        basketState.y - B_HEIGHT,\r\n        basketState.width,\r\n        B_HEIGHT\r\n      );\r\n\r\n      // draw collection\r\n      for (let i = collection.length - 1; i >= 0; i--) {\r\n        if (collection[i].enable) {\r\n          productInfos[i].tex.draw(\r\n            batch,\r\n            collectionPosition[i].x,\r\n            collectionPosition[i].y,\r\n            productInfos[i].width,\r\n            productInfos[i].height\r\n          );\r\n        }\r\n      }\r\n\r\n      basketFront.draw(\r\n        batch,\r\n        basketState.x - basketState.width / 2,\r\n        basketState.y - F_HEIGHT,\r\n        basketState.width,\r\n        F_HEIGHT\r\n      );\r\n\r\n      batch.end();\r\n    },\r\n  };\r\n};\r\n\r\nexport default createBasketRenderSystem;\r\n","import { Vector2 } from \"gdxjs\";\r\n\r\nconst createInputHandlerGameScreenSystem = () => {\r\n  let worldCoord = new Vector2();\r\n\r\n  return {\r\n    init({ basketState }, { inputHandler, width }) {\r\n      inputHandler.addEventListener(\"touchStart\", () => {\r\n        worldCoord.setVector(inputHandler.getTouchedWorldCoord());\r\n        basketState.target.x = worldCoord.x;\r\n      });\r\n\r\n      inputHandler.addEventListener(\"touchMove\", () => {\r\n        worldCoord.setVector(inputHandler.getTouchedWorldCoord());\r\n        basketState.target.x = worldCoord.x;\r\n      });\r\n    },\r\n    update(delta, { trayState }, { inputHandler }) {\r\n      // if (inputHandler.getTouchedWorldCoord()) {\r\n      //   worldCoord.setVector(inputHandler.getTouchedWorldCoord());\r\n      //   trayState.target.x = worldCoord.x;\r\n      // }\r\n    },\r\n  };\r\n};\r\nexport default createInputHandlerGameScreenSystem;\r\n","import { Vector2 } from \"gdxjs\";\r\n\r\nconst createBasketPositionSystem = () => {\r\n  let tmp = new Vector2();\r\n\r\n  return {\r\n    update(delta, { basketState }, { batch, width, height, camera }) {\r\n      tmp\r\n        .setVector(basketState.target)\r\n        .subVector(basketState.position)\r\n        .nor()\r\n        .scale(basketState.speed * delta);\r\n      if (basketState.target.distanceSqr(basketState.position) <= tmp.len2()) {\r\n        basketState.position.setVector(basketState.target);\r\n      } else {\r\n        basketState.position.addVector(tmp);\r\n      }\r\n\r\n      basketState.x = basketState.position.x;\r\n      if (basketState.x <= basketState.width / 2) {\r\n        basketState.x = basketState.width / 2;\r\n      }\r\n      if (basketState.x >= width - basketState.width / 2) {\r\n        basketState.x = width - basketState.width / 2;\r\n      }\r\n    },\r\n  };\r\n};\r\n\r\nexport default createBasketPositionSystem;\r\n","const getDelayBaseOnDifficulty = (difficulty) => {\r\n  if (difficulty >= 1 && difficulty <= 3) {\r\n    return 1;\r\n  } else if (difficulty >= 4 && difficulty <= 6) {\r\n    return 2;\r\n  } else if (difficulty >= 7 && difficulty <= 9) {\r\n    return 1.5;\r\n  } else {\r\n    return 1;\r\n  }\r\n};\r\n\r\n// const getShootTypeBaseOnDifficulty = (difficulty) => {\r\n//   if (difficulty >= 1 && difficulty <= 2) {\r\n//     return { minNumber: 0, maxNumber: 2 };\r\n//   } else if (difficulty >= 3 && difficulty <= 7) {\r\n//     return { minNumber: 0, maxNumber: 3 };\r\n//   } else {\r\n//     return { minNumber: 0, maxNumber: 5 };\r\n//   }\r\n// };\r\n\r\nconst getPattern = (number, width, height) => {\r\n  let timer = 0;\r\n  let x = [];\r\n\r\n  if (number === 0) {\r\n    timer = [0];\r\n    x = [Math.random() * (width * 0.8 - width * 0.15) + width * 0.15];\r\n  }\r\n\r\n  return { timer, x };\r\n};\r\n\r\nconst createProductSpawnSystem = () => {\r\n  let delayTime = 2;\r\n  let pattern;\r\n  let timer = 0;\r\n  let index = 0;\r\n  let xIndex = 0;\r\n  return {\r\n    update(delta, worldState, { width, height, productTex, fakeProductTex }) {\r\n      const { difficulty, products } = worldState;\r\n\r\n      if (worldState.stateTime > delayTime && pattern === undefined) {\r\n        // const { minNumber, maxNumber } = getShootTypeBaseOnDifficulty(\r\n        //   difficulty\r\n        // );\r\n        // pattern = getPattern(\r\n        //   Math.round(Math.random() * (maxNumber - minNumber) + minNumber),\r\n        //   width,\r\n        //   height\r\n        // );\r\n        pattern = getPattern(0, width, height);\r\n        timer = worldState.stateTime + pattern.timer[index];\r\n      }\r\n\r\n      if (\r\n        worldState.stateTime > delayTime &&\r\n        worldState.stateTime > timer &&\r\n        pattern !== undefined\r\n      ) {\r\n        index = Math.min((index += 1), pattern.timer.length);\r\n        timer = worldState.stateTime + pattern.timer[index];\r\n\r\n        // loop to check every same timer products\r\n        let loop = 1;\r\n        let tmpIndex = index - 1;\r\n        while (true) {\r\n          if (\r\n            pattern.timer[tmpIndex] === pattern.timer[tmpIndex + 1] &&\r\n            tmpIndex < pattern.timer.length\r\n          ) {\r\n            tmpIndex = Math.min((tmpIndex += 1), pattern.timer.length);\r\n            loop += 1;\r\n          } else {\r\n            break;\r\n          }\r\n        }\r\n\r\n        // add to products list\r\n        for (let i = 0; i < loop; i++) {\r\n          if (i > 0) {\r\n            index = Math.min((index += 1), pattern.timer.length);\r\n          }\r\n          timer = worldState.stateTime + pattern.timer[index];\r\n\r\n          // TODO: get random product\r\n          let isFake = true;\r\n          let randomProduct = Math.floor(Math.random() * fakeProductTex.length);\r\n          if (Math.random() > 0.3) {\r\n            isFake = false;\r\n            randomProduct = Math.floor(Math.random() * productTex.length);\r\n          }\r\n\r\n          products.push({\r\n            type: randomProduct,\r\n            // type: 2,\r\n            isFake,\r\n            stateTime: 0,\r\n            x: pattern.x[xIndex],\r\n            y: -height / 8,\r\n            speedY: 0,\r\n          });\r\n\r\n          xIndex = Math.min((xIndex += 1), pattern.x.length - 1);\r\n        }\r\n\r\n        if (index === pattern.timer.length) {\r\n          delayTime =\r\n            worldState.stateTime + getDelayBaseOnDifficulty(difficulty);\r\n          index = 0;\r\n          xIndex = 0;\r\n          pattern = undefined;\r\n        }\r\n      }\r\n    },\r\n  };\r\n};\r\n\r\nexport default createProductSpawnSystem;\r\n","const createProductPositionSystem = () => {\r\n  return {\r\n    update(delta, { products, productInfos, whiteSmokeList }, { height }) {\r\n      for (let i = products.length - 1; i >= 0; i--) {\r\n        products[i].y += delta * products[i].speedY;\r\n        products[i].speedY += productInfos.accY * delta;\r\n\r\n        if (products[i].y > height * 0.96) {\r\n          whiteSmokeList.push({\r\n            stateTime: 0,\r\n            x: products[i].x,\r\n            y: products[i].y,\r\n          });\r\n          products.splice(i, 1);\r\n        }\r\n      }\r\n    },\r\n  };\r\n};\r\n\r\nexport default createProductPositionSystem;\r\n","const createProductRenderSystem = () => {\r\n  let P_HEIGHT;\r\n  let productInfos = [];\r\n  let fakeProductInfos = [];\r\n  let product;\r\n  return {\r\n    init(worldState, { width, height, productTex, fakeProductTex }) {\r\n      P_HEIGHT = height / 10;\r\n      for (let i = 0; i < productTex.length; i++) {\r\n        productInfos.push({\r\n          tex: productTex[i].image,\r\n          width:\r\n            (productTex[i].image.width * P_HEIGHT) / productTex[i].image.height,\r\n        });\r\n      }\r\n\r\n      for (let i = 0; i < fakeProductTex.length; i++) {\r\n        fakeProductInfos.push({\r\n          tex: fakeProductTex[i].image,\r\n          width:\r\n            (fakeProductTex[i].image.width * P_HEIGHT) /\r\n            fakeProductTex[i].image.height,\r\n        });\r\n      }\r\n    },\r\n    update(\r\n      delta,\r\n      { products },\r\n      { batch, camera, width, height, productTex, fakeProductTex }\r\n    ) {\r\n      batch.setProjection(camera.combined);\r\n      batch.begin();\r\n      batch.setColor(1, 1, 1, 1);\r\n      for (let i = products.length - 1; i >= 0; i--) {\r\n        product = !products[i].isFake\r\n          ? productInfos[products[i].type]\r\n          : fakeProductInfos[products[i].type];\r\n\r\n        product.tex.draw(\r\n          batch,\r\n          products[i].x - product.width / 2,\r\n          products[i].y - P_HEIGHT,\r\n          product.width,\r\n          P_HEIGHT\r\n        );\r\n      }\r\n      batch.end();\r\n    },\r\n  };\r\n};\r\n\r\nexport default createProductRenderSystem;\r\n","import { Vector2 } from \"gdxjs\";\r\n\r\nconst createBasketCollideSystem = () => {\r\n  return {\r\n    update(delta, worldState, { width, height }) {\r\n      const { basketState, products, collection, life, starList } = worldState;\r\n\r\n      let got = false;\r\n      for (let i = products.length - 1; i >= 0; i--) {\r\n        if (\r\n          products[i].x > basketState.x - basketState.width / 2 &&\r\n          products[i].x < basketState.x + basketState.width / 2 &&\r\n          products[i].y > basketState.y - basketState.height * 0.7 &&\r\n          products[i].y < basketState.y - basketState.height * 0.3\r\n        ) {\r\n          if (!products[i].isFake && !worldState.correctCatch) {\r\n            console.log(\"hit\");\r\n            worldState.correctCatch = true;\r\n            for (let j = 0; j < collection.length; j++) {\r\n              if (\r\n                collection[j].type === products[i].type &&\r\n                !collection[j].enable &&\r\n                !got\r\n              ) {\r\n                got = true;\r\n                collection[j].enable = true;\r\n              }\r\n            }\r\n\r\n            // 0: 1 star --- 1: 3 stars\r\n            if (products[i].type === 2) {\r\n              worldState.vitaminACounter = Math.min(\r\n                5,\r\n                (worldState.vitaminACounter += 1)\r\n              );\r\n\r\n              const time = 0.3;\r\n              const speedX = basketState.width / time;\r\n              const scaleSpeed = (1 - 0) / ((2 / 3) * time);\r\n              starList.push({\r\n                type: 0,\r\n                stateTime: 0,\r\n                time,\r\n                scale: 0,\r\n                scaleSpeed,\r\n                speedX,\r\n                accuX: 0,\r\n                // value\r\n              });\r\n            } else {\r\n              const stateTime = [0, 0, 0];\r\n              const scale = [1, 1, 1];\r\n              const time = [\r\n                Math.random() * (0.4 - 0.3) + 0.3,\r\n                Math.random() * (0.4 - 0.3) + 0.3,\r\n                Math.random() * (0.4 - 0.3) + 0.3,\r\n              ];\r\n              const position = [\r\n                new Vector2(basketState.x, basketState.y - basketState.height),\r\n                new Vector2(basketState.x, basketState.y - basketState.height),\r\n                new Vector2(basketState.x, basketState.y - basketState.height),\r\n              ];\r\n              const target = [\r\n                new Vector2(\r\n                  basketState.x -\r\n                    Math.random() * (width / 3 - width / 7) +\r\n                    width / 7,\r\n                  Math.random() * ((height * 6.5) / 8 - (height * 5) / 8) +\r\n                    (height * 5) / 8\r\n                ),\r\n                new Vector2(\r\n                  basketState.x - Math.random() * (width / 20),\r\n                  Math.random() * ((height * 6.5) / 8 - (height * 5) / 8) +\r\n                    (height * 5) / 8\r\n                ),\r\n                new Vector2(\r\n                  basketState.x +\r\n                    Math.random() * (width / 3 - width / 7) +\r\n                    width / 7,\r\n                  Math.random() * ((height * 6.5) / 8 - (height * 5) / 8) +\r\n                    (height * 5) / 8\r\n                ),\r\n              ];\r\n\r\n              let speed = [];\r\n              let scaleSpeed = [];\r\n              for (let i = 0; i < time.length; i++) {\r\n                speed.push(target[i].distance(position[i]) / time[i]);\r\n                scaleSpeed.push(1 / time[i]);\r\n              }\r\n\r\n              starList.push({\r\n                type: 1,\r\n                time,\r\n                scale,\r\n                stateTime,\r\n                position,\r\n                target,\r\n                speed,\r\n                scaleSpeed,\r\n              });\r\n            }\r\n\r\n            products.splice(i, 1);\r\n            break; // if there is any one match => break the loop\r\n          }\r\n\r\n          //wrong catch\r\n          if (products[i].isFake) {\r\n            console.log(\"miss\");\r\n            life[worldState.lifeIndex].open = false;\r\n            worldState.lifeIndex = Math.max(0, (worldState.lifeIndex -= 1));\r\n            worldState.stunScreen.check = true;\r\n            products.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n    },\r\n  };\r\n};\r\n\r\nexport default createBasketCollideSystem;\r\n","// import analytics from \"../../../utils/analytics\";\r\n\r\nconst createScoreCalcSystem = () => {\r\n  return {\r\n    update(delta, worldState, extra) {\r\n      if (worldState.correctCatch) {\r\n        worldState.correctCatch = false;\r\n        worldState.score += 100;\r\n        if (worldState.score % 1000 === 0) {\r\n          worldState.difficulty += 1;\r\n        }\r\n      }\r\n    },\r\n  };\r\n};\r\n\r\nexport default createScoreCalcSystem;\r\n","const createLifeRenderSystem = () => {\r\n  let openEye, closeEye;\r\n  let L_WIDTH, L_HEIGHT;\r\n  let O_HEIGHT, C_HEIGHT;\r\n  return {\r\n    init(worldState, { width, height, assets }) {\r\n      const atlas = assets.gameAssets;\r\n\r\n      openEye = atlas.findRegion(\"open_eye\", -1);\r\n      closeEye = atlas.findRegion(\"close_eye\", -1);\r\n\r\n      L_WIDTH = width / 11;\r\n      O_HEIGHT = (L_WIDTH * openEye.height) / openEye.width;\r\n      C_HEIGHT = (L_WIDTH * closeEye.height) / closeEye.width;\r\n    },\r\n    update(delta, { life }, { batch, camera, width, height }) {\r\n      batch.setProjection(camera.combined);\r\n      batch.begin();\r\n      for (let i = 0; i < life.length; i++) {\r\n        let lifeTex = closeEye;\r\n        L_HEIGHT = C_HEIGHT;\r\n        if (life[i].open) {\r\n          lifeTex = openEye;\r\n          L_HEIGHT = O_HEIGHT;\r\n        }\r\n        lifeTex.draw(\r\n          batch,\r\n          width / 1.6 + i * (L_WIDTH + width / 50),\r\n          height / 15 - L_HEIGHT / 2,\r\n          L_WIDTH,\r\n          L_HEIGHT\r\n        );\r\n      }\r\n      batch.end();\r\n    },\r\n  };\r\n};\r\n\r\nexport default createLifeRenderSystem;\r\n","import { Vector2 } from \"gdxjs\";\r\n\r\nconst createStarEffectRenderSystem = () => {\r\n  let startTex;\r\n  let S1_WIDTH, S1_HEIGHT, S2_WIDTH, S2_HEIGHT;\r\n  let tmp = new Vector2();\r\n  return {\r\n    init(worldState, { assets, width, height }) {\r\n      const atlas = assets.gameAssets;\r\n      startTex = atlas.findRegion(\"star\", -1);\r\n\r\n      S1_WIDTH = width / 6;\r\n      S1_HEIGHT = (S1_WIDTH * startTex.height) / startTex.width;\r\n\r\n      S2_WIDTH = width / 6;\r\n      S2_HEIGHT = (S1_WIDTH * startTex.height) / startTex.width;\r\n    },\r\n    update(delta, { starList, basketState }, { batch, camera, width, height }) {\r\n      batch.setProjection(camera.combined);\r\n      batch.begin();\r\n\r\n      for (let i = starList.length - 1; i >= 0; i--) {\r\n        if (starList[i].type === 0) {\r\n          starList[i].stateTime += delta;\r\n          starList[i].accuX += delta * starList[i].speedX;\r\n          if (starList[i].accuX < (basketState.width * 2) / 3) {\r\n            starList[i].scale += delta * starList[i].scaleSpeed;\r\n          } else {\r\n            starList[i].scale -= delta * starList[i].scaleSpeed * 1.5;\r\n          }\r\n          startTex.draw(\r\n            batch,\r\n            basketState.x -\r\n              basketState.width / 2 +\r\n              starList[i].accuX -\r\n              S2_WIDTH / 2,\r\n            basketState.y - basketState.height * 0.7 - S2_HEIGHT / 2,\r\n            S2_WIDTH,\r\n            S2_HEIGHT,\r\n            S2_WIDTH / 2,\r\n            S2_HEIGHT / 2,\r\n            0,\r\n            starList[i].scale,\r\n            starList[i].scale\r\n          );\r\n\r\n          if (starList[i].stateTime > starList[i].time) {\r\n            starList.splice(i, 1);\r\n          }\r\n        } else {\r\n          let count = 0;\r\n          for (let j = 2; j >= 0; j--) {\r\n            if (starList[i].stateTime[j] <= starList[i].time[j]) {\r\n              starList[i].stateTime[j] += delta;\r\n              const target = starList[i].target[j];\r\n              const position = starList[i].position[j];\r\n              tmp\r\n                .setVector(target)\r\n                .subVector(position)\r\n                .nor()\r\n                .scale(starList[i].speed[j] * delta);\r\n              if (target.distanceSqr(position) <= tmp.len2()) {\r\n                starList[i].position[j].setVector(starList[i].target[j]);\r\n              } else {\r\n                starList[i].position[j].addVector(tmp);\r\n              }\r\n\r\n              starList[i].scale[j] -= delta * starList[i].scaleSpeed[j];\r\n              startTex.draw(\r\n                batch,\r\n                starList[i].position[j].x - S1_WIDTH / 2,\r\n                starList[i].position[j].y - S1_HEIGHT / 2,\r\n                S1_WIDTH,\r\n                S1_HEIGHT,\r\n                S1_WIDTH / 2,\r\n                S1_HEIGHT / 2,\r\n                0,\r\n                starList[i].scale[j],\r\n                starList[i].scale[j]\r\n              );\r\n            } else {\r\n              count += 1;\r\n            }\r\n          }\r\n          if (count === 3) {\r\n            starList.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n\r\n      batch.end();\r\n    },\r\n  };\r\n};\r\n\r\nexport default createStarEffectRenderSystem;\r\n","import { fillRect } from \"gdxjs\";\r\n\r\nconst createStunScreenRenderSystem = () => {\r\n  return {\r\n    update(delta, { stunScreen }, { width, height, batch, camera, whiteTex }) {\r\n      if (stunScreen.check) {\r\n        batch.setProjection(camera.combined);\r\n        batch.begin();\r\n        batch.setColor(1, 0, 0, stunScreen.opacity);\r\n        fillRect(batch, whiteTex, 0, 0, width, height);\r\n        batch.end();\r\n        stunScreen.opacity -= delta * 4;\r\n        if (stunScreen.opacity <= 0) {\r\n          stunScreen.opacity = 1;\r\n          stunScreen.check = false;\r\n        }\r\n      }\r\n    },\r\n  };\r\n};\r\n\r\nexport default createStunScreenRenderSystem;\r\n","import { createAnimation } from \"gdxjs\";\r\n\r\nconst createWhiteSmokeRenderSystem = () => {\r\n  let smokeAnimation;\r\n  const duration = 0.05;\r\n  let frameLength = 0;\r\n  let SMOKE_WIDTH, SMOKE_HEIGHT;\r\n  return {\r\n    init(worldState, { assets, width, height }) {\r\n      const smokeAtlas = assets.smoke;\r\n      const effect = smokeAtlas.findRegions(\"effect boc khoi\");\r\n      smokeAnimation = createAnimation(duration, effect);\r\n      frameLength = effect.length - 1;\r\n\r\n      SMOKE_WIDTH = width * 0.7;\r\n      SMOKE_HEIGHT = (effect[0].height * SMOKE_WIDTH) / effect[0].width;\r\n    },\r\n    update(delta, worldState, { batch, camera, width, height }) {\r\n      const { whiteSmokeList } = worldState;\r\n      batch.setProjection(camera.combined);\r\n      batch.begin();\r\n      batch.setColor(1, 1, 1, 1);\r\n      for (let i = whiteSmokeList.length - 1; i >= 0; i--) {\r\n        whiteSmokeList[i].stateTime += delta;\r\n        smokeAnimation\r\n          .getKeyFrame(whiteSmokeList[i].stateTime, 1)\r\n          .draw(\r\n            batch,\r\n            whiteSmokeList[i].x - SMOKE_WIDTH / 2.4,\r\n            whiteSmokeList[i].y - SMOKE_HEIGHT / 1.7,\r\n            SMOKE_WIDTH,\r\n            SMOKE_HEIGHT\r\n          );\r\n\r\n        if (whiteSmokeList[i].stateTime > duration * frameLength) {\r\n          if (i === 0 && worldState.gameOver) {\r\n            worldState.finishGame = true;\r\n          }\r\n          whiteSmokeList.splice(i, 1);\r\n        }\r\n      }\r\n      batch.end();\r\n    },\r\n  };\r\n};\r\n\r\nexport default createWhiteSmokeRenderSystem;\r\n","const createVitaminARenderSystem = () => {\r\n  let V_WIDTH, V_HEIGHT, vitaminTex;\r\n  let scale = 1;\r\n  return {\r\n    init(worldState, { productTex, width, height }) {\r\n      vitaminTex = productTex[2].image;\r\n      V_WIDTH = width / 15;\r\n      V_HEIGHT = (V_WIDTH * vitaminTex.height) / vitaminTex.width;\r\n    },\r\n    update(delta, worldState, { batch, camera, width, height }) {\r\n      const { life } = worldState;\r\n      batch.setProjection(camera.combined);\r\n      batch.begin();\r\n      for (let i = 0; i < worldState.vitaminACounter; i++) {\r\n        vitaminTex.draw(\r\n          batch,\r\n          width * 0.87,\r\n          height / 8.5 + i * (height / 60 + V_HEIGHT),\r\n          V_WIDTH,\r\n          V_HEIGHT,\r\n          V_WIDTH / 2,\r\n          V_HEIGHT / 2,\r\n          0,\r\n          scale,\r\n          scale\r\n        );\r\n      }\r\n      batch.end();\r\n\r\n      if (worldState.vitaminACounter === 5) {\r\n        scale = Math.max((scale -= delta * 5), 0);\r\n        for (let i = 0; i < life.length; i++) {\r\n          if (!life[i].open) {\r\n            if (scale === 0) {\r\n              life[i].open = true;\r\n              worldState.lifeIndex = Math.min((worldState.lifeIndex += 1), 2);\r\n            }\r\n            break;\r\n          }\r\n        }\r\n        if (scale === 0) {\r\n          scale = 1;\r\n          worldState.vitaminACounter = 0;\r\n        }\r\n      }\r\n    },\r\n  };\r\n};\r\n\r\nexport default createVitaminARenderSystem;\r\n","import { AlignMode, TextType } from \"../utils/loadFontFile\";\r\n\r\nconst createScoreRenderSystem = () => {\r\n  let scoreText, logo, scoreTex;\r\n  let LG_WIDTH, LG_HEIGHT, S_WIDTH, S_HEIGHT;\r\n  return {\r\n    init(worldState, { fonts, width, height, assets }) {\r\n      let atlas = assets.gameAssets;\r\n      logo = atlas.findRegion(\"logo\", -1);\r\n      scoreTex = atlas.findRegion(\"score\", -1);\r\n\r\n      LG_WIDTH = width / 2;\r\n      LG_HEIGHT = (LG_WIDTH * logo.height) / logo.width;\r\n\r\n      S_WIDTH = width / 5;\r\n      S_HEIGHT = (S_WIDTH * scoreTex.height) / scoreTex.width;\r\n\r\n      scoreText = fonts.font.setNewText(width);\r\n      scoreText.setAlignMode(AlignMode.left);\r\n      scoreText.setType(TextType.dynamic);\r\n    },\r\n    update(delta, { score }, { batch, camera, width, height }) {\r\n      batch.setProjection(camera.combined);\r\n      batch.begin();\r\n      batch.setColor(0.502, 0.867, 0.216, 1);\r\n      scoreText.draw(batch, `${score}`, width / 3.2, height / 8.5, width / 9.3);\r\n      batch.setColor(1, 1, 1, 1);\r\n      logo.draw(batch, width / 12, height / 35, LG_WIDTH, LG_HEIGHT);\r\n      scoreTex.draw(batch, width / 12, height / 7.7, S_WIDTH, S_HEIGHT);\r\n      batch.end();\r\n    },\r\n  };\r\n};\r\n\r\nexport default createScoreRenderSystem;\r\n","// import ReactDOM from \"react-dom\";\r\n// import React from \"react\";\r\n// import LeaderBoard from \"../LeaderBoard\";\r\n// import axios from \"../../utils/axios\";\r\n\r\nimport { createViewportAwareInputHandler, Vector2 } from \"gdxjs\";\r\nimport createWorld from \"../utils/createWorld\";\r\nimport {\r\n  getProductInBasketTex,\r\n  getProductTexture,\r\n  getFakeProductTex,\r\n} from \"../utils/getProduct\";\r\nimport createLeaderBoardSystem from \"./LeaderBoardScreen\";\r\nimport createBackGroundRenderSystem from \"../systems/BgRenderSystem\";\r\nimport createBasketRenderSystem from \"../systems/BasketRenderSystem\";\r\nimport createInputHandlerGameScreenSystem from \"../systems/InputHandlerGameScreenSystem\";\r\nimport createBasketPositionSystem from \"../systems/BasketPositionSystem\";\r\nimport createProductSpawnSystem from \"../systems/ProductSpawnSystem\";\r\nimport createProductPositionSystem from \"../systems/ProductPositionSystem\";\r\nimport createProductRenderSystem from \"../systems/ProductRenderSystem\";\r\nimport createBasketCollideSystem from \"../systems/BasketCollideSystem\";\r\nimport createScoreCalcSystem from \"../systems/ScoreCaculateSystem\";\r\nimport createLifeRenderSystem from \"../systems/LifeRenderSystem\";\r\nimport createStarEffectRenderSystem from \"../systems/StarEffectRenderSystem\";\r\nimport createStunScreenRenderSystem from \"../systems/StunScreenSystem\";\r\nimport createWhiteSmokeRenderSystem from \"../systems/WhiteSmokeRenderSystem\";\r\nimport createVitaminARenderSystem from \"../systems/VitaminARenderSystem\";\r\nimport createScoreRenderSystem from \"../systems/ScoreRenderSystem\";\r\n\r\nconst createGameScreenSystem = (Game) => {\r\n  const {\r\n    width,\r\n    height,\r\n    canvas,\r\n    gl,\r\n    batch,\r\n    camera,\r\n    whiteTex,\r\n    assets,\r\n    viewport,\r\n    fonts,\r\n  } = Game;\r\n\r\n  const inputHandler = createViewportAwareInputHandler(canvas, viewport);\r\n  const BASKET_INITIAL_Y = (height * 3.65) / 4;\r\n\r\n  const basketBack = assets.gameAssets.findRegion(\"basket_back\", -1);\r\n  const BASKET_WIDTH = width / 3.8;\r\n  const BASKET_BACK_HEIGHT =\r\n    (BASKET_WIDTH * basketBack.height) / basketBack.width;\r\n\r\n  const productTex = getProductTexture(assets.gameAssets);\r\n  const fakeProductTex = getFakeProductTex(assets.gameAssets);\r\n  const productInBasketTex = getProductInBasketTex(assets.gameAssets);\r\n\r\n  const worldState = {\r\n    score: 0,\r\n    correctCatch: false,\r\n    stateTime: 0,\r\n    gameOver: false,\r\n    emptyLife: false,\r\n    life: [{ open: true }, { open: true }, { open: true }],\r\n    lifeIndex: 2, // life checking index\r\n    basketState: {\r\n      x: width / 2,\r\n      y: BASKET_INITIAL_Y,\r\n      width: BASKET_WIDTH,\r\n      height: BASKET_BACK_HEIGHT,\r\n      position: new Vector2(width / 2, BASKET_INITIAL_Y),\r\n      target: new Vector2(width / 2, BASKET_INITIAL_Y),\r\n      speed: width * 2.5,\r\n    },\r\n    difficulty: 1,\r\n    collection: [\r\n      { type: 0, enable: false },\r\n      { type: 0, enable: false },\r\n      { type: 1, enable: false },\r\n    ],\r\n    collectionFinished: [],\r\n    products: [],\r\n    productInfos: {\r\n      accY: height / 2,\r\n    },\r\n    starList: [],\r\n    whiteSmokeList: [],\r\n    stunScreen: { check: false, opacity: 1 },\r\n    vitaminACounter: 0,\r\n    finishGame: false,\r\n  };\r\n\r\n  const extra = {\r\n    canvas,\r\n    width,\r\n    height,\r\n    gl,\r\n    batch,\r\n    camera,\r\n    whiteTex,\r\n    inputHandler,\r\n    assets,\r\n    productTex,\r\n    fakeProductTex,\r\n    productInBasketTex,\r\n    fonts,\r\n  };\r\n  const world = createWorld(worldState, extra);\r\n\r\n  world.addSystem(createInputHandlerGameScreenSystem());\r\n  world.addSystem(createBasketPositionSystem(), true);\r\n  world.addSystem(createProductSpawnSystem());\r\n  world.addSystem(createProductPositionSystem());\r\n  world.addSystem(createBasketCollideSystem());\r\n  world.addSystem(createScoreCalcSystem());\r\n\r\n  world.addSystem(createBackGroundRenderSystem(), true);\r\n  world.addSystem(createBasketRenderSystem(), true);\r\n  world.addSystem(createProductRenderSystem());\r\n  world.addSystem(createScoreRenderSystem(), true);\r\n  world.addSystem(createLifeRenderSystem(), true);\r\n  world.addSystem(createVitaminARenderSystem(), true);\r\n  world.addSystem(createStarEffectRenderSystem(), true);\r\n  world.addSystem(createWhiteSmokeRenderSystem(), true);\r\n\r\n  world.addSystem(createStunScreenRenderSystem(), true);\r\n\r\n  const goToLeaderBoardScreen = async () => {\r\n    Game.setCurrentScreen(await createLeaderBoardSystem(Game));\r\n  };\r\n\r\n  let counter = 0;\r\n  const update = (delta) => {\r\n    // goToLeaderBoardScreen();\r\n\r\n    if (!worldState.gameOver) {\r\n      counter = 0;\r\n      for (let i = 0; i < worldState.life.length; i++) {\r\n        if (!worldState.life[i].open) {\r\n          counter++;\r\n        }\r\n      }\r\n\r\n      if (counter === 3) {\r\n        worldState.gameOver = true;\r\n        for (let i = 0; i < worldState.products.length; i++) {\r\n          worldState.whiteSmokeList.push({\r\n            stateTime: 0,\r\n            x: worldState.products[i].x,\r\n            y: worldState.products[i].y,\r\n          });\r\n        }\r\n        worldState.products.length = 0;\r\n      }\r\n      worldState.stateTime += delta;\r\n      world.update(delta);\r\n    } else {\r\n      Game.score = worldState.score;\r\n      worldState.stateTime += delta;\r\n      world.update(delta, true);\r\n      if (worldState.finishGame) {\r\n        goToLeaderBoardScreen();\r\n      }\r\n    }\r\n  };\r\n\r\n  return {\r\n    update,\r\n    destroy() {\r\n      inputHandler.cleanup();\r\n    },\r\n  };\r\n};\r\n\r\nexport default createGameScreenSystem;\r\n","export const getProductInBasketTex = (atlas) => {\r\n  const productTex = [\r\n    {\r\n      image: atlas.findRegion(\"lo_1_gio\", -1),\r\n      type: 0,\r\n    },\r\n    {\r\n      image: atlas.findRegion(\"lo_2_gio\", -1),\r\n      type: 0,\r\n    },\r\n    {\r\n      image: atlas.findRegion(\"hop_thuoc_gio\", -1),\r\n      type: 1,\r\n    },\r\n  ];\r\n  return productTex;\r\n};\r\n\r\nexport const getProductTexture = (atlas) => {\r\n  const productTex = [\r\n    {\r\n      image: atlas.findRegion(\"lo_thuoc\", -1),\r\n      type: 0,\r\n    },\r\n    {\r\n      image: atlas.findRegion(\"hop_thuoc\", -1),\r\n      type: 1,\r\n    },\r\n    {\r\n      image: atlas.findRegion(\"vitaminA\", -1),\r\n      type: 2,\r\n    },\r\n  ];\r\n  return productTex;\r\n};\r\n\r\nexport const getFakeProductTex = (atlas) => {\r\n  const productTex = [\r\n    {\r\n      image: atlas.findRegion(\"lo_thuoc_fake\", -1),\r\n      type: 0,\r\n    },\r\n    {\r\n      image: atlas.findRegion(\"lo_thuoc_fake2\", -1),\r\n      type: 1,\r\n    },\r\n    {\r\n      image: atlas.findRegion(\"hop_thuoc_fake\", -1),\r\n      type: 2,\r\n    },\r\n    {\r\n      image: atlas.findRegion(\"hop_thuoc_fake2\", -1),\r\n      type: 3,\r\n    },\r\n  ];\r\n  return productTex;\r\n};\r\n","export default (worldState, extra) => {\r\n  const systems = [];\r\n  const passiveSystems = [];\r\n  return {\r\n    addSystem(system, passive = false) {\r\n      system.init && system.init(worldState, extra);\r\n      if (passive) {\r\n        systems.push(system);\r\n        passiveSystems.push(system);\r\n      }\r\n      if (!passive) {\r\n        systems.push(system);\r\n      }\r\n    },\r\n    update(delta, runPassive = false) {\r\n      if (runPassive) {\r\n        for (let system of passiveSystems) {\r\n          system.update(delta, worldState, extra);\r\n        }\r\n      } else {\r\n        for (let system of systems) {\r\n          system.update(delta, worldState, extra);\r\n        }\r\n      }\r\n    },\r\n  };\r\n};\r\n","import { createViewportAwareInputHandler, fillRect } from \"gdxjs\";\r\nimport createGameScreenSystem from \"./GameScreen\";\r\n\r\nconst createInstructionScreen2System = (Game) => {\r\n  const goToGameScreen = async () => {\r\n    Game.setCurrentScreen(await createGameScreenSystem(Game));\r\n  };\r\n\r\n  const {\r\n    canvas,\r\n    viewport,\r\n    width,\r\n    height,\r\n    camera,\r\n    batch,\r\n    assets,\r\n    whiteTex,\r\n  } = Game;\r\n\r\n  const inputHandler = createViewportAwareInputHandler(canvas, viewport);\r\n\r\n  const atlas = assets.gameAssets;\r\n\r\n  const backGround = atlas.findRegion(\"BG\", -1);\r\n  const BG_HEIGHT = height;\r\n  const BG_WIDTH = (BG_HEIGHT * backGround.width) / backGround.height;\r\n  const panel2 = atlas.findRegion(\"panel2\", -1);\r\n  const PANEL_WIDTH = width * 0.78;\r\n  const PANEL_HEIGHT = (PANEL_WIDTH * panel2.height) / panel2.width;\r\n  const border = atlas.findRegion(\"border\", -1);\r\n  const B_HEIGHT = height;\r\n  const B_WIDTH = (B_HEIGHT * border.width) / border.height;\r\n\r\n  inputHandler.addEventListener(\"touchStart\", (x, y) => {\r\n    goToGameScreen();\r\n  });\r\n\r\n  const update = (delta) => {\r\n    batch.setProjection(camera.combined);\r\n    batch.begin();\r\n    batch.setColor(0.039, 0.988, 0.114, 1);\r\n    fillRect(batch, whiteTex, 0, 0, width, height);\r\n    batch.setColor(1, 1, 1, 1);\r\n    backGround.draw(batch, 0, 0, width, height);\r\n    panel2.draw(\r\n      batch,\r\n      width / 2 - PANEL_WIDTH / 2,\r\n      (height - PANEL_HEIGHT) / 2,\r\n      PANEL_WIDTH,\r\n      PANEL_HEIGHT\r\n    );\r\n    border.draw(batch, 0, 0, B_WIDTH, B_HEIGHT);\r\n    border.draw(batch, width - B_WIDTH, 0, B_WIDTH, B_HEIGHT);\r\n\r\n    batch.end();\r\n  };\r\n\r\n  return {\r\n    update,\r\n    destroy() {\r\n      inputHandler.cleanup();\r\n    },\r\n  };\r\n};\r\n\r\nexport default createInstructionScreen2System;\r\n","import { createViewportAwareInputHandler, fillRect } from \"gdxjs\";\r\nimport createInstructionScreen2System from \"./InstructionScreen2\";\r\n\r\nconst createInstructionScreenSystem = (Game) => {\r\n  const goToInstructionScreen2 = async () => {\r\n    Game.setCurrentScreen(await createInstructionScreen2System(Game));\r\n  };\r\n\r\n  const {\r\n    canvas,\r\n    viewport,\r\n    width,\r\n    height,\r\n    camera,\r\n    batch,\r\n    assets,\r\n    whiteTex,\r\n  } = Game;\r\n\r\n  const inputHandler = createViewportAwareInputHandler(canvas, viewport);\r\n\r\n  const atlas = assets.gameAssets;\r\n\r\n  const backGround = atlas.findRegion(\"BG\", -1);\r\n  const BG_HEIGHT = height;\r\n  const BG_WIDTH = (BG_HEIGHT * backGround.width) / backGround.height;\r\n  const panel1 = atlas.findRegion(\"panel\", -1);\r\n  const PANEL_WIDTH = width * 0.78;\r\n  const PANEL_HEIGHT = (PANEL_WIDTH * panel1.height) / panel1.width;\r\n  const border = atlas.findRegion(\"border\", -1);\r\n  const B_HEIGHT = height;\r\n  const B_WIDTH = (B_HEIGHT * border.width) / border.height;\r\n\r\n  inputHandler.addEventListener(\"touchStart\", (x, y) => {\r\n    goToInstructionScreen2();\r\n  });\r\n\r\n  const update = (delta) => {\r\n    batch.setProjection(camera.combined);\r\n    batch.begin();\r\n    batch.setColor(0.039, 0.988, 0.114, 1);\r\n    fillRect(batch, whiteTex, 0, 0, width, height);\r\n    batch.setColor(1, 1, 1, 1);\r\n    backGround.draw(batch, 0, 0, width, height);\r\n    panel1.draw(\r\n      batch,\r\n      width / 2 - PANEL_WIDTH / 2,\r\n      (height - PANEL_HEIGHT) / 2,\r\n      PANEL_WIDTH,\r\n      PANEL_HEIGHT\r\n    );\r\n    border.draw(batch, 0, 0, B_WIDTH, B_HEIGHT);\r\n    border.draw(batch, width - B_WIDTH, 0, B_WIDTH, B_HEIGHT);\r\n\r\n    batch.end();\r\n  };\r\n  return {\r\n    update,\r\n    destroy() {\r\n      inputHandler.cleanup();\r\n    },\r\n  };\r\n};\r\n\r\nexport default createInstructionScreenSystem;\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport \"./modal.css\";\r\nexport default ({ className, id, children }) => {\r\n  return (\r\n    <div id={id} className={clsx(\"modal-wrapper\", className)}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n","import \"./index.css\";\nimport {\n  createGameLoop,\n  createBatch,\n  loadTexture,\n  loadAtlas,\n  createViewport,\n  fillRect,\n} from \"gdxjs\";\nimport createWhiteText from \"gl-white-texture\";\nimport loadFontFile from \"./utils/loadFontFile\";\nimport createInstructionScreenSystem from \"./screens/InstructionScreen\";\nimport axios from \"../../utils/axios\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport RegisterModal from \"../RegisterModal\";\n\nconst init = async (canvas) => {\n  // const canvas = document.getElementById(\"main\");\n  const width = 55;\n  const height = 100;\n  const viewport = createViewport(canvas, width, height);\n  const camera = viewport.getCamera();\n  const gl = viewport.getContext();\n  const batch = createBatch(gl);\n  const whiteTex = createWhiteText(gl);\n\n  const Game = {\n    score: 0,\n    width,\n    height,\n    canvas,\n    gl,\n    batch,\n    camera,\n    whiteTex,\n    viewport,\n    setCurrentScreen(screen) {\n      if (Game.currentScreen) {\n        Game.currentScreen.destroy();\n      }\n      Game.currentScreen = screen;\n    },\n  };\n\n  const foxLogo = await loadTexture(gl, \"./assets/logo.png\");\n  const LOGO_WIDTH = width / 1.8;\n  const LOGO_HEIGHT = (LOGO_WIDTH * foxLogo.height) / foxLogo.width;\n\n  let counter = 0;\n  const numOfAssets = 10;\n\n  const draw = () => {\n    batch.setProjection(camera.combined);\n    batch.begin();\n    batch.setColor(255 / 255, 114 / 255, 22 / 255, 1);\n    fillRect(batch, whiteTex, 0, 0, width, height);\n    batch.setColor(1, 1, 1, 1);\n    fillRect(\n      batch,\n      foxLogo,\n      width / 2 - LOGO_WIDTH / 2,\n      (height * 0.8) / 3,\n      LOGO_WIDTH,\n      LOGO_HEIGHT\n    );\n    batch.setColor(1, 1, 1, 1);\n    fillRect(\n      batch,\n      whiteTex,\n      width / 2 - width / (1.45 * 2),\n      (height * 2.5) / 4 - height / 50,\n      width / 1.45,\n      height / 25\n    );\n    batch.setColor(255 / 255, 114 / 255, 22 / 255, 1);\n    fillRect(\n      batch,\n      whiteTex,\n      width / 2 - width / 3,\n      (height * 2.5) / 4 - height / 60,\n      width / 1.5,\n      height / 30\n    );\n    batch.setColor(1, 1, 1, 1);\n    let ratio = counter / numOfAssets;\n    fillRect(\n      batch,\n      whiteTex,\n      width / 2 - width / (1.55 * 2),\n      (height * 2.5) / 4 - height / 80,\n      (width / 1.55) * ratio,\n      height / 40\n    );\n    batch.end();\n  };\n\n  const doAndCount = (promise) =>\n    promise.then((result) => {\n      // draw();\n      counter += 1;\n      return result;\n    });\n\n  const [gameAssets, smoke] = await Promise.all([\n    doAndCount(loadAtlas(gl, \"./assets/eyemiru.atlas\")),\n    doAndCount(loadAtlas(gl, \"./assets/smoke.atlas\")),\n  ]);\n\n  let assets = {\n    gameAssets,\n    smoke,\n  };\n  Game.assets = assets;\n\n  const font = await loadFontFile(gl, \"./fonts/text.fnt\");\n  const nameFont = await loadFontFile(gl, \"./fonts/myriadPro.fnt\");\n\n  Game.fonts = { font, nameFont };\n\n  const goToInstructionScreen = async () => {\n    Game.setCurrentScreen(await createInstructionScreenSystem(Game));\n  };\n\n  // const token = localStorage.getItem(\"@Token\");\n  // if (!token) {\n  //   const wrapper = document.createElement(\"div\");\n  //   document.body.append(wrapper);\n  //   ReactDOM.render(\n  //     <RegisterModal\n  //       onSubmit={async (formBody) => {\n  //         try {\n  //           const res = await axios.post(\"/register\", formBody);\n  //           const token = res.data;\n  //           localStorage.setItem(\"@Token\", token);\n  //           document.body.removeChild(wrapper);\n  //           goToInstructionScreen();\n  //         } catch (e) {}\n  //       }}\n  //     />,\n  //     wrapper\n  //   );\n  // } else {\n  //   goToInstructionScreen();\n  // }\n\n  goToInstructionScreen();\n  gl.clearColor(0, 0, 0, 0);\n  const update = (delta) => {\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    if (Game.currentScreen) {\n      Game.currentScreen.update(delta);\n    }\n  };\n\n  createGameLoop(update);\n};\n\n// init();\n\nexport default init;\n","import \"./gameModal.css\";\r\nimport React, { useRef, useEffect } from \"react\";\r\nimport initGame from \"./game\";\r\nimport Modal from \"./Modal\";\r\nexport default ({ onClose }) => {\r\n  const canvasRef = useRef();\r\n  const infosRef = useRef();\r\n  useEffect(() => {\r\n    if (canvasRef.current) {\r\n      initGame(canvasRef.current, infosRef.current);\r\n    }\r\n  }, [canvasRef, infosRef]);\r\n  return (\r\n    <Modal>\r\n      <div className=\"canvas-wrapper\">\r\n        <canvas ref={canvasRef}></canvas>\r\n        <div ref={infosRef} id=\"infos\"></div>\r\n        {/* <button className=\"close-button\" onClick={() => onClose && onClose()}>\r\n          X\r\n        </button> */}\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n","import \"./body.css\";\r\nimport React from \"react\";\r\nimport Container from \"./Container\";\r\nimport GameModal from \"./GameModal\";\r\nexport default () => {\r\n  return (\r\n    <React.Fragment>\r\n      <Container>\r\n        <GameModal />\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import React from \"react\";\r\n// import logo from \"./logo.svg\";\r\nimport \"./App.css\";\r\n// import Header from \"./components/Header\";\r\nimport Body from \"./components/Body\";\r\nfunction App() {\r\n  return (\r\n    // <React.Fragment>\r\n    // {/* <Header></Header> */}\r\n    <Body></Body>\r\n    // {/* </React.Fragment> */}\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport analytics from \"./utils/analytics\";\r\n\r\nanalytics.page();\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}