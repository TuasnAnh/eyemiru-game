{"ast":null,"code":"const createLifeRenderSystem = () => {\n  let openEye, closeEye;\n  let L_WIDTH, L_HEIGHT;\n  let O_HEIGHT, C_HEIGHT;\n  return {\n    init(worldState, {\n      width,\n      height,\n      assets\n    }) {\n      const atlas = assets.gameAssets;\n      openEye = atlas.findRegion(\"open_eye\", -1);\n      closeEye = atlas.findRegion(\"close_eye\", -1);\n      L_WIDTH = width / 11;\n      O_HEIGHT = L_WIDTH * openEye.height / openEye.width;\n      C_HEIGHT = L_WIDTH * closeEye.height / closeEye.width;\n    },\n\n    update(delta, {\n      life\n    }, {\n      batch,\n      camera,\n      width,\n      height\n    }) {\n      batch.setProjection(camera.combined);\n      batch.begin();\n\n      for (let i = 0; i < life.length; i++) {\n        let lifeTex = closeEye;\n        L_HEIGHT = C_HEIGHT;\n\n        if (life[i].open) {\n          lifeTex = openEye;\n          L_HEIGHT = C_HEIGHT;\n        }\n\n        lifeTex.draw(batch, width / 1.6 + i * (L_WIDTH + width / 50), height / 19 - L_HEIGHT / 2, L_WIDTH, L_HEIGHT);\n      }\n\n      batch.end();\n    }\n\n  };\n};\n\nexport default createLifeRenderSystem;","map":{"version":3,"sources":["E:/game-project/eyemiru/src/systems/LifeRenderSystem.js"],"names":["createLifeRenderSystem","openEye","closeEye","L_WIDTH","L_HEIGHT","O_HEIGHT","C_HEIGHT","init","worldState","width","height","assets","atlas","gameAssets","findRegion","update","delta","life","batch","camera","setProjection","combined","begin","i","length","lifeTex","open","draw","end"],"mappings":"AAAA,MAAMA,sBAAsB,GAAG,MAAM;AACnC,MAAIC,OAAJ,EAAaC,QAAb;AACA,MAAIC,OAAJ,EAAaC,QAAb;AACA,MAAIC,QAAJ,EAAcC,QAAd;AACA,SAAO;AACLC,IAAAA,IAAI,CAACC,UAAD,EAAa;AAAEC,MAAAA,KAAF;AAASC,MAAAA,MAAT;AAAiBC,MAAAA;AAAjB,KAAb,EAAwC;AAC1C,YAAMC,KAAK,GAAGD,MAAM,CAACE,UAArB;AAEAZ,MAAAA,OAAO,GAAGW,KAAK,CAACE,UAAN,CAAiB,UAAjB,EAA6B,CAAC,CAA9B,CAAV;AACAZ,MAAAA,QAAQ,GAAGU,KAAK,CAACE,UAAN,CAAiB,WAAjB,EAA8B,CAAC,CAA/B,CAAX;AAEAX,MAAAA,OAAO,GAAGM,KAAK,GAAG,EAAlB;AACAJ,MAAAA,QAAQ,GAAIF,OAAO,GAAGF,OAAO,CAACS,MAAnB,GAA6BT,OAAO,CAACQ,KAAhD;AACAH,MAAAA,QAAQ,GAAIH,OAAO,GAAGD,QAAQ,CAACQ,MAApB,GAA8BR,QAAQ,CAACO,KAAlD;AACD,KAVI;;AAWLM,IAAAA,MAAM,CAACC,KAAD,EAAQ;AAAEC,MAAAA;AAAF,KAAR,EAAkB;AAAEC,MAAAA,KAAF;AAASC,MAAAA,MAAT;AAAiBV,MAAAA,KAAjB;AAAwBC,MAAAA;AAAxB,KAAlB,EAAoD;AACxDQ,MAAAA,KAAK,CAACE,aAAN,CAAoBD,MAAM,CAACE,QAA3B;AACAH,MAAAA,KAAK,CAACI,KAAN;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,IAAI,CAACO,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpC,YAAIE,OAAO,GAAGvB,QAAd;AACAE,QAAAA,QAAQ,GAAGE,QAAX;;AACA,YAAIW,IAAI,CAACM,CAAD,CAAJ,CAAQG,IAAZ,EAAkB;AAChBD,UAAAA,OAAO,GAAGxB,OAAV;AACAG,UAAAA,QAAQ,GAAGE,QAAX;AACD;;AACDmB,QAAAA,OAAO,CAACE,IAAR,CACET,KADF,EAEET,KAAK,GAAG,GAAR,GAAcc,CAAC,IAAIpB,OAAO,GAAGM,KAAK,GAAG,EAAtB,CAFjB,EAGEC,MAAM,GAAG,EAAT,GAAcN,QAAQ,GAAG,CAH3B,EAIED,OAJF,EAKEC,QALF;AAOD;;AACDc,MAAAA,KAAK,CAACU,GAAN;AACD;;AA9BI,GAAP;AAgCD,CApCD;;AAsCA,eAAe5B,sBAAf","sourcesContent":["const createLifeRenderSystem = () => {\r\n  let openEye, closeEye;\r\n  let L_WIDTH, L_HEIGHT;\r\n  let O_HEIGHT, C_HEIGHT;\r\n  return {\r\n    init(worldState, { width, height, assets }) {\r\n      const atlas = assets.gameAssets;\r\n\r\n      openEye = atlas.findRegion(\"open_eye\", -1);\r\n      closeEye = atlas.findRegion(\"close_eye\", -1);\r\n\r\n      L_WIDTH = width / 11;\r\n      O_HEIGHT = (L_WIDTH * openEye.height) / openEye.width;\r\n      C_HEIGHT = (L_WIDTH * closeEye.height) / closeEye.width;\r\n    },\r\n    update(delta, { life }, { batch, camera, width, height }) {\r\n      batch.setProjection(camera.combined);\r\n      batch.begin();\r\n      for (let i = 0; i < life.length; i++) {\r\n        let lifeTex = closeEye;\r\n        L_HEIGHT = C_HEIGHT;\r\n        if (life[i].open) {\r\n          lifeTex = openEye;\r\n          L_HEIGHT = C_HEIGHT;\r\n        }\r\n        lifeTex.draw(\r\n          batch,\r\n          width / 1.6 + i * (L_WIDTH + width / 50),\r\n          height / 19 - L_HEIGHT / 2,\r\n          L_WIDTH,\r\n          L_HEIGHT\r\n        );\r\n      }\r\n      batch.end();\r\n    },\r\n  };\r\n};\r\n\r\nexport default createLifeRenderSystem;\r\n"]},"metadata":{},"sourceType":"module"}