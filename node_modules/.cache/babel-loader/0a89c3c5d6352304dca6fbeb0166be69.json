{"ast":null,"code":"var createVitaminARenderSystem=function createVitaminARenderSystem(){var V_WIDTH,V_HEIGHT,vitaminTex;return{init:function init(worldState,_ref){var productTex=_ref.productTex,width=_ref.width,height=_ref.height;vitaminTex=productTex[2].image;V_WIDTH=width/15;V_HEIGHT=V_WIDTH*vitaminTex.height/vitaminTex.width;},update:function update(delta,worldState,_ref2){var batch=_ref2.batch,camera=_ref2.camera,width=_ref2.width,height=_ref2.height;var life=worldState.life;batch.setProjection(camera.combined);batch.begin();for(var i=0;i<worldState.vitaminACounter;i++){vitaminTex.draw(batch,width*0.87,height/8.5+i*(height/60+V_HEIGHT),V_WIDTH,V_HEIGHT);}batch.end();if(worldState.vitaminACounter===5){for(var _i=0;_i<life.length;_i++){if(!life[_i].open){life[_i].open=true;worldState.lifeIndex+=1;break;}}worldState.vitaminACounter=0;}}};};export default createVitaminARenderSystem;","map":{"version":3,"sources":["E:/game-project/eyemiru/src/systems/VitaminARenderSystem.js"],"names":["createVitaminARenderSystem","V_WIDTH","V_HEIGHT","vitaminTex","init","worldState","productTex","width","height","image","update","delta","batch","camera","life","setProjection","combined","begin","i","vitaminACounter","draw","end","length","open","lifeIndex"],"mappings":"AAAA,GAAMA,CAAAA,0BAA0B,CAAG,QAA7BA,CAAAA,0BAA6B,EAAM,CACvC,GAAIC,CAAAA,OAAJ,CAAaC,QAAb,CAAuBC,UAAvB,CACA,MAAO,CACLC,IADK,eACAC,UADA,MAC2C,IAA7BC,CAAAA,UAA6B,MAA7BA,UAA6B,CAAjBC,KAAiB,MAAjBA,KAAiB,CAAVC,MAAU,MAAVA,MAAU,CAC9CL,UAAU,CAAGG,UAAU,CAAC,CAAD,CAAV,CAAcG,KAA3B,CACAR,OAAO,CAAGM,KAAK,CAAG,EAAlB,CACAL,QAAQ,CAAID,OAAO,CAAGE,UAAU,CAACK,MAAtB,CAAgCL,UAAU,CAACI,KAAtD,CACD,CALI,CAMLG,MANK,iBAMEC,KANF,CAMSN,UANT,OAMuD,IAAhCO,CAAAA,KAAgC,OAAhCA,KAAgC,CAAzBC,MAAyB,OAAzBA,MAAyB,CAAjBN,KAAiB,OAAjBA,KAAiB,CAAVC,MAAU,OAAVA,MAAU,IAClDM,CAAAA,IADkD,CACzCT,UADyC,CAClDS,IADkD,CAE1DF,KAAK,CAACG,aAAN,CAAoBF,MAAM,CAACG,QAA3B,EACAJ,KAAK,CAACK,KAAN,GACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGb,UAAU,CAACc,eAA/B,CAAgDD,CAAC,EAAjD,CAAqD,CACnDf,UAAU,CAACiB,IAAX,CACER,KADF,CAEEL,KAAK,CAAG,IAFV,CAGEC,MAAM,CAAG,GAAT,CAAeU,CAAC,EAAIV,MAAM,CAAG,EAAT,CAAcN,QAAlB,CAHlB,CAIED,OAJF,CAKEC,QALF,EAOD,CACDU,KAAK,CAACS,GAAN,GAEA,GAAIhB,UAAU,CAACc,eAAX,GAA+B,CAAnC,CAAsC,CACpC,IAAK,GAAID,CAAAA,EAAC,CAAG,CAAb,CAAgBA,EAAC,CAAGJ,IAAI,CAACQ,MAAzB,CAAiCJ,EAAC,EAAlC,CAAsC,CACpC,GAAI,CAACJ,IAAI,CAACI,EAAD,CAAJ,CAAQK,IAAb,CAAmB,CACjBT,IAAI,CAACI,EAAD,CAAJ,CAAQK,IAAR,CAAe,IAAf,CACAlB,UAAU,CAACmB,SAAX,EAAwB,CAAxB,CACA,MACD,CACF,CACDnB,UAAU,CAACc,eAAX,CAA6B,CAA7B,CACD,CACF,CA/BI,CAAP,CAiCD,CAnCD,CAqCA,cAAenB,CAAAA,0BAAf","sourcesContent":["const createVitaminARenderSystem = () => {\r\n  let V_WIDTH, V_HEIGHT, vitaminTex;\r\n  return {\r\n    init(worldState, { productTex, width, height }) {\r\n      vitaminTex = productTex[2].image;\r\n      V_WIDTH = width / 15;\r\n      V_HEIGHT = (V_WIDTH * vitaminTex.height) / vitaminTex.width;\r\n    },\r\n    update(delta, worldState, { batch, camera, width, height }) {\r\n      const { life } = worldState;\r\n      batch.setProjection(camera.combined);\r\n      batch.begin();\r\n      for (let i = 0; i < worldState.vitaminACounter; i++) {\r\n        vitaminTex.draw(\r\n          batch,\r\n          width * 0.87,\r\n          height / 8.5 + i * (height / 60 + V_HEIGHT),\r\n          V_WIDTH,\r\n          V_HEIGHT\r\n        );\r\n      }\r\n      batch.end();\r\n\r\n      if (worldState.vitaminACounter === 5) {\r\n        for (let i = 0; i < life.length; i++) {\r\n          if (!life[i].open) {\r\n            life[i].open = true;\r\n            worldState.lifeIndex += 1;\r\n            break;\r\n          }\r\n        }\r\n        worldState.vitaminACounter = 0;\r\n      }\r\n    },\r\n  };\r\n};\r\n\r\nexport default createVitaminARenderSystem;\r\n"]},"metadata":{},"sourceType":"module"}