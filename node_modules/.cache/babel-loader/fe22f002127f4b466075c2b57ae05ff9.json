{"ast":null,"code":"const createBasketRenderSystem = () => {\n  let basketFront, basketBack;\n  let F_HEIGHT, B_HEIGHT;\n  return {\n    init({\n      basketState\n    }, {\n      width,\n      assets\n    }) {\n      let atlas = assets.gameAssets;\n      basketFront = atlas.findRegion(\"basket_front\", -1);\n      basketBack = atlas.findRegion(\"basket_back\", -1);\n      F_HEIGHT = basketState.width * basketFront.height / basketFront.width;\n      B_HEIGHT = basketState.width * basketBack.height / basketBack.width; // collection infos\n\n      const P_WIDTH = width / 9;\n\n      for (let i = 0; i < productInBasketTex; i++) {\n        const P_HEIGHT = P_WIDTH * productInBasketTex[i].image.height / productInBasketTex[i].image.width;\n        productInfos.push({\n          tex: productInBasketTex[i].image,\n          width: P_WIDTH,\n          height: P_HEIGHT\n        });\n      }\n    },\n\n    update(delta, {\n      basketState\n    }, {\n      batch,\n      width,\n      height,\n      camera\n    }) {\n      batch.setProjection(camera.combined);\n      batch.begin();\n      batch.setColor(1, 1, 1, 1);\n      basketBack.draw(batch, basketState.x - basketState.width / 2, basketState.y - B_HEIGHT, basketState.width, B_HEIGHT);\n      basketFront.draw(batch, basketState.x - basketState.width / 2, basketState.y - F_HEIGHT, basketState.width, F_HEIGHT);\n      batch.end();\n    }\n\n  };\n};\n\nexport default createBasketRenderSystem;","map":{"version":3,"sources":["E:/game-project/eyemiru/src/systems/BasketRenderSystem.js"],"names":["createBasketRenderSystem","basketFront","basketBack","F_HEIGHT","B_HEIGHT","init","basketState","width","assets","atlas","gameAssets","findRegion","height","P_WIDTH","i","productInBasketTex","P_HEIGHT","image","productInfos","push","tex","update","delta","batch","camera","setProjection","combined","begin","setColor","draw","x","y","end"],"mappings":"AAAA,MAAMA,wBAAwB,GAAG,MAAM;AACrC,MAAIC,WAAJ,EAAiBC,UAAjB;AACA,MAAIC,QAAJ,EAAcC,QAAd;AACA,SAAO;AACLC,IAAAA,IAAI,CAAC;AAAEC,MAAAA;AAAF,KAAD,EAAkB;AAAEC,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAlB,EAAqC;AACvC,UAAIC,KAAK,GAAGD,MAAM,CAACE,UAAnB;AACAT,MAAAA,WAAW,GAAGQ,KAAK,CAACE,UAAN,CAAiB,cAAjB,EAAiC,CAAC,CAAlC,CAAd;AACAT,MAAAA,UAAU,GAAGO,KAAK,CAACE,UAAN,CAAiB,aAAjB,EAAgC,CAAC,CAAjC,CAAb;AAEAR,MAAAA,QAAQ,GAAIG,WAAW,CAACC,KAAZ,GAAoBN,WAAW,CAACW,MAAjC,GAA2CX,WAAW,CAACM,KAAlE;AACAH,MAAAA,QAAQ,GAAIE,WAAW,CAACC,KAAZ,GAAoBL,UAAU,CAACU,MAAhC,GAA0CV,UAAU,CAACK,KAAhE,CANuC,CAQvC;;AACA,YAAMM,OAAO,GAAGN,KAAK,GAAG,CAAxB;;AAEA,WAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,kBAApB,EAAwCD,CAAC,EAAzC,EAA6C;AAC3C,cAAME,QAAQ,GACXH,OAAO,GAAGE,kBAAkB,CAACD,CAAD,CAAlB,CAAsBG,KAAtB,CAA4BL,MAAvC,GACAG,kBAAkB,CAACD,CAAD,CAAlB,CAAsBG,KAAtB,CAA4BV,KAF9B;AAIAW,QAAAA,YAAY,CAACC,IAAb,CAAkB;AAChBC,UAAAA,GAAG,EAAEL,kBAAkB,CAACD,CAAD,CAAlB,CAAsBG,KADX;AAEhBV,UAAAA,KAAK,EAAEM,OAFS;AAGhBD,UAAAA,MAAM,EAAEI;AAHQ,SAAlB;AAKD;AACF,KAvBI;;AAyBLK,IAAAA,MAAM,CAACC,KAAD,EAAQ;AAAEhB,MAAAA;AAAF,KAAR,EAAyB;AAAEiB,MAAAA,KAAF;AAAShB,MAAAA,KAAT;AAAgBK,MAAAA,MAAhB;AAAwBY,MAAAA;AAAxB,KAAzB,EAA2D;AAC/DD,MAAAA,KAAK,CAACE,aAAN,CAAoBD,MAAM,CAACE,QAA3B;AACAH,MAAAA,KAAK,CAACI,KAAN;AACAJ,MAAAA,KAAK,CAACK,QAAN,CAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB;AAEA1B,MAAAA,UAAU,CAAC2B,IAAX,CACEN,KADF,EAEEjB,WAAW,CAACwB,CAAZ,GAAgBxB,WAAW,CAACC,KAAZ,GAAoB,CAFtC,EAGED,WAAW,CAACyB,CAAZ,GAAgB3B,QAHlB,EAIEE,WAAW,CAACC,KAJd,EAKEH,QALF;AAQAH,MAAAA,WAAW,CAAC4B,IAAZ,CACEN,KADF,EAEEjB,WAAW,CAACwB,CAAZ,GAAgBxB,WAAW,CAACC,KAAZ,GAAoB,CAFtC,EAGED,WAAW,CAACyB,CAAZ,GAAgB5B,QAHlB,EAIEG,WAAW,CAACC,KAJd,EAKEJ,QALF;AAQAoB,MAAAA,KAAK,CAACS,GAAN;AACD;;AA/CI,GAAP;AAiDD,CApDD;;AAsDA,eAAehC,wBAAf","sourcesContent":["const createBasketRenderSystem = () => {\r\n  let basketFront, basketBack;\r\n  let F_HEIGHT, B_HEIGHT;\r\n  return {\r\n    init({ basketState }, { width, assets }) {\r\n      let atlas = assets.gameAssets;\r\n      basketFront = atlas.findRegion(\"basket_front\", -1);\r\n      basketBack = atlas.findRegion(\"basket_back\", -1);\r\n\r\n      F_HEIGHT = (basketState.width * basketFront.height) / basketFront.width;\r\n      B_HEIGHT = (basketState.width * basketBack.height) / basketBack.width;\r\n\r\n      // collection infos\r\n      const P_WIDTH = width / 9;\r\n\r\n      for (let i = 0; i < productInBasketTex; i++) {\r\n        const P_HEIGHT =\r\n          (P_WIDTH * productInBasketTex[i].image.height) /\r\n          productInBasketTex[i].image.width;\r\n\r\n        productInfos.push({\r\n          tex: productInBasketTex[i].image,\r\n          width: P_WIDTH,\r\n          height: P_HEIGHT,\r\n        });\r\n      }\r\n    },\r\n\r\n    update(delta, { basketState }, { batch, width, height, camera }) {\r\n      batch.setProjection(camera.combined);\r\n      batch.begin();\r\n      batch.setColor(1, 1, 1, 1);\r\n\r\n      basketBack.draw(\r\n        batch,\r\n        basketState.x - basketState.width / 2,\r\n        basketState.y - B_HEIGHT,\r\n        basketState.width,\r\n        B_HEIGHT\r\n      );\r\n\r\n      basketFront.draw(\r\n        batch,\r\n        basketState.x - basketState.width / 2,\r\n        basketState.y - F_HEIGHT,\r\n        basketState.width,\r\n        F_HEIGHT\r\n      );\r\n\r\n      batch.end();\r\n    },\r\n  };\r\n};\r\n\r\nexport default createBasketRenderSystem;\r\n"]},"metadata":{},"sourceType":"module"}