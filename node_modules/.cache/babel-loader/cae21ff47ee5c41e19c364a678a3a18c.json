{"ast":null,"code":"// import analytics from \"../../../utils/analytics\";\nconst checkAdditionScore = comboCounter => {\n  if (comboCounter === 10) {\n    // analytics.track(\"combo\", { comboCounter });\n    return 100;\n  } else if (comboCounter === 30) {\n    // analytics.track(\"combo\", { comboCounter });\n    return 300;\n  } else if (comboCounter >= 50 && comboCounter % 10 === 0) {\n    // analytics.track(\"combo\", { comboCounter: 50 });\n    return 500;\n  } else {\n    return 10;\n  }\n};\n\nconst createScoreCalcSystem = () => {\n  return {\n    update(delta, worldState, extra) {\n      if (worldState.correctCatch) {\n        worldState.correctCatch = false;\n        worldState.comboCounter += 1;\n        const addScore = checkAdditionScore(worldState.comboCounter);\n        worldState.score += addScore;\n      }\n    }\n\n  };\n};\n\nexport default createScoreCalcSystem;","map":{"version":3,"sources":["E:/game-project/eyemiru/src/systems/ScoreCalcSystem.js"],"names":["checkAdditionScore","comboCounter","createScoreCalcSystem","update","delta","worldState","extra","correctCatch","addScore","score"],"mappings":"AAAA;AAEA,MAAMA,kBAAkB,GAAIC,YAAD,IAAkB;AAC3C,MAAIA,YAAY,KAAK,EAArB,EAAyB;AACvB;AACA,WAAO,GAAP;AACD,GAHD,MAGO,IAAIA,YAAY,KAAK,EAArB,EAAyB;AAC9B;AACA,WAAO,GAAP;AACD,GAHM,MAGA,IAAIA,YAAY,IAAI,EAAhB,IAAsBA,YAAY,GAAG,EAAf,KAAsB,CAAhD,EAAmD;AACxD;AACA,WAAO,GAAP;AACD,GAHM,MAGA;AACL,WAAO,EAAP;AACD;AACF,CAbD;;AAeA,MAAMC,qBAAqB,GAAG,MAAM;AAClC,SAAO;AACLC,IAAAA,MAAM,CAACC,KAAD,EAAQC,UAAR,EAAoBC,KAApB,EAA2B;AAC/B,UAAID,UAAU,CAACE,YAAf,EAA6B;AAC3BF,QAAAA,UAAU,CAACE,YAAX,GAA0B,KAA1B;AACAF,QAAAA,UAAU,CAACJ,YAAX,IAA2B,CAA3B;AACA,cAAMO,QAAQ,GAAGR,kBAAkB,CAACK,UAAU,CAACJ,YAAZ,CAAnC;AACAI,QAAAA,UAAU,CAACI,KAAX,IAAoBD,QAApB;AACD;AACF;;AARI,GAAP;AAUD,CAXD;;AAaA,eAAeN,qBAAf","sourcesContent":["// import analytics from \"../../../utils/analytics\";\r\n\r\nconst checkAdditionScore = (comboCounter) => {\r\n  if (comboCounter === 10) {\r\n    // analytics.track(\"combo\", { comboCounter });\r\n    return 100;\r\n  } else if (comboCounter === 30) {\r\n    // analytics.track(\"combo\", { comboCounter });\r\n    return 300;\r\n  } else if (comboCounter >= 50 && comboCounter % 10 === 0) {\r\n    // analytics.track(\"combo\", { comboCounter: 50 });\r\n    return 500;\r\n  } else {\r\n    return 10;\r\n  }\r\n};\r\n\r\nconst createScoreCalcSystem = () => {\r\n  return {\r\n    update(delta, worldState, extra) {\r\n      if (worldState.correctCatch) {\r\n        worldState.correctCatch = false;\r\n        worldState.comboCounter += 1;\r\n        const addScore = checkAdditionScore(worldState.comboCounter);\r\n        worldState.score += addScore;\r\n      }\r\n    },\r\n  };\r\n};\r\n\r\nexport default createScoreCalcSystem;\r\n"]},"metadata":{},"sourceType":"module"}