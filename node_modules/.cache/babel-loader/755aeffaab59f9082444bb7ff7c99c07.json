{"ast":null,"code":"const createVitaminARenderSystem = () => {\n  let V_WIDTH, V_HEIGHT, vitaminTex;\n  let scale = 1;\n  return {\n    init(worldState, {\n      productTex,\n      width,\n      height\n    }) {\n      vitaminTex = productTex[2].image;\n      V_WIDTH = width / 15;\n      V_HEIGHT = V_WIDTH * vitaminTex.height / vitaminTex.width;\n    },\n\n    update(delta, worldState, {\n      batch,\n      camera,\n      width,\n      height\n    }) {\n      const {\n        life\n      } = worldState;\n      batch.setProjection(camera.combined);\n      batch.begin();\n\n      for (let i = 0; i < worldState.vitaminACounter; i++) {\n        vitaminTex.draw(batch, width * 0.87, height / 8.5 + i * (height / 60 + V_HEIGHT), V_WIDTH, V_HEIGHT);\n      }\n\n      batch.end();\n\n      if (worldState.vitaminACounter === 5) {\n        for (let i = 0; i < life.length; i++) {\n          if (!life[i].open) {\n            life[i].open = true;\n            worldState.lifeIndex += 1;\n            break;\n          }\n        }\n\n        worldState.vitaminACounter = 0;\n      }\n    }\n\n  };\n};\n\nexport default createVitaminARenderSystem;","map":{"version":3,"sources":["E:/game-project/eyemiru/src/systems/VitaminARenderSystem.js"],"names":["createVitaminARenderSystem","V_WIDTH","V_HEIGHT","vitaminTex","scale","init","worldState","productTex","width","height","image","update","delta","batch","camera","life","setProjection","combined","begin","i","vitaminACounter","draw","end","length","open","lifeIndex"],"mappings":"AAAA,MAAMA,0BAA0B,GAAG,MAAM;AACvC,MAAIC,OAAJ,EAAaC,QAAb,EAAuBC,UAAvB;AACA,MAAIC,KAAK,GAAG,CAAZ;AACA,SAAO;AACLC,IAAAA,IAAI,CAACC,UAAD,EAAa;AAAEC,MAAAA,UAAF;AAAcC,MAAAA,KAAd;AAAqBC,MAAAA;AAArB,KAAb,EAA4C;AAC9CN,MAAAA,UAAU,GAAGI,UAAU,CAAC,CAAD,CAAV,CAAcG,KAA3B;AACAT,MAAAA,OAAO,GAAGO,KAAK,GAAG,EAAlB;AACAN,MAAAA,QAAQ,GAAID,OAAO,GAAGE,UAAU,CAACM,MAAtB,GAAgCN,UAAU,CAACK,KAAtD;AACD,KALI;;AAMLG,IAAAA,MAAM,CAACC,KAAD,EAAQN,UAAR,EAAoB;AAAEO,MAAAA,KAAF;AAASC,MAAAA,MAAT;AAAiBN,MAAAA,KAAjB;AAAwBC,MAAAA;AAAxB,KAApB,EAAsD;AAC1D,YAAM;AAAEM,QAAAA;AAAF,UAAWT,UAAjB;AACAO,MAAAA,KAAK,CAACG,aAAN,CAAoBF,MAAM,CAACG,QAA3B;AACAJ,MAAAA,KAAK,CAACK,KAAN;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGb,UAAU,CAACc,eAA/B,EAAgDD,CAAC,EAAjD,EAAqD;AACnDhB,QAAAA,UAAU,CAACkB,IAAX,CACER,KADF,EAEEL,KAAK,GAAG,IAFV,EAGEC,MAAM,GAAG,GAAT,GAAeU,CAAC,IAAIV,MAAM,GAAG,EAAT,GAAcP,QAAlB,CAHlB,EAIED,OAJF,EAKEC,QALF;AAOD;;AACDW,MAAAA,KAAK,CAACS,GAAN;;AAEA,UAAIhB,UAAU,CAACc,eAAX,KAA+B,CAAnC,EAAsC;AACpC,aAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,IAAI,CAACQ,MAAzB,EAAiCJ,CAAC,EAAlC,EAAsC;AACpC,cAAI,CAACJ,IAAI,CAACI,CAAD,CAAJ,CAAQK,IAAb,EAAmB;AACjBT,YAAAA,IAAI,CAACI,CAAD,CAAJ,CAAQK,IAAR,GAAe,IAAf;AACAlB,YAAAA,UAAU,CAACmB,SAAX,IAAwB,CAAxB;AACA;AACD;AACF;;AACDnB,QAAAA,UAAU,CAACc,eAAX,GAA6B,CAA7B;AACD;AACF;;AA/BI,GAAP;AAiCD,CApCD;;AAsCA,eAAepB,0BAAf","sourcesContent":["const createVitaminARenderSystem = () => {\r\n  let V_WIDTH, V_HEIGHT, vitaminTex;\r\n  let scale = 1;\r\n  return {\r\n    init(worldState, { productTex, width, height }) {\r\n      vitaminTex = productTex[2].image;\r\n      V_WIDTH = width / 15;\r\n      V_HEIGHT = (V_WIDTH * vitaminTex.height) / vitaminTex.width;\r\n    },\r\n    update(delta, worldState, { batch, camera, width, height }) {\r\n      const { life } = worldState;\r\n      batch.setProjection(camera.combined);\r\n      batch.begin();\r\n      for (let i = 0; i < worldState.vitaminACounter; i++) {\r\n        vitaminTex.draw(\r\n          batch,\r\n          width * 0.87,\r\n          height / 8.5 + i * (height / 60 + V_HEIGHT),\r\n          V_WIDTH,\r\n          V_HEIGHT\r\n        );\r\n      }\r\n      batch.end();\r\n\r\n      if (worldState.vitaminACounter === 5) {\r\n        for (let i = 0; i < life.length; i++) {\r\n          if (!life[i].open) {\r\n            life[i].open = true;\r\n            worldState.lifeIndex += 1;\r\n            break;\r\n          }\r\n        }\r\n        worldState.vitaminACounter = 0;\r\n      }\r\n    },\r\n  };\r\n};\r\n\r\nexport default createVitaminARenderSystem;\r\n"]},"metadata":{},"sourceType":"module"}