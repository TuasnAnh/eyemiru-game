{"ast":null,"code":"var createLifeRenderSystem=function createLifeRenderSystem(){var openEye,closeEye;var L_WIDTH,L_HEIGHT;var O_HEIGHT,C_HEIGHT;return{init:function init(worldState,_ref){var width=_ref.width,height=_ref.height,assets=_ref.assets;var atlas=assets.gameAssets;openEye=atlas.findRegion(\"open_eye\",-1);closeEye=atlas.findRegion(\"close_eye\",-1);L_WIDTH=width/11;O_HEIGHT=L_WIDTH*openEye.height/openEye.width;C_HEIGHT=L_WIDTH*closeEye.height/closeEye.width;},update:function update(delta,_ref2,_ref3){var life=_ref2.life;var batch=_ref3.batch,camera=_ref3.camera,width=_ref3.width,height=_ref3.height;batch.setProjection(camera.combined);batch.begin();for(var i=0;i<life.length;i++){var lifeTex=closeEye;L_HEIGHT=C_HEIGHT;if(life[i].open){lifeTex=openEye;L_HEIGHT=O_HEIGHT;}lifeTex.draw(batch,width/1.6+i*(L_WIDTH+width/50),height/15-L_HEIGHT/2,L_WIDTH,L_HEIGHT);}batch.end();}};};export default createLifeRenderSystem;","map":{"version":3,"sources":["E:/game-project/eyemiru/src/systems/LifeRenderSystem.js"],"names":["createLifeRenderSystem","openEye","closeEye","L_WIDTH","L_HEIGHT","O_HEIGHT","C_HEIGHT","init","worldState","width","height","assets","atlas","gameAssets","findRegion","update","delta","life","batch","camera","setProjection","combined","begin","i","length","lifeTex","open","draw","end"],"mappings":"AAAA,GAAMA,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,EAAM,CACnC,GAAIC,CAAAA,OAAJ,CAAaC,QAAb,CACA,GAAIC,CAAAA,OAAJ,CAAaC,QAAb,CACA,GAAIC,CAAAA,QAAJ,CAAcC,QAAd,CACA,MAAO,CACLC,IADK,eACAC,UADA,MACuC,IAAzBC,CAAAA,KAAyB,MAAzBA,KAAyB,CAAlBC,MAAkB,MAAlBA,MAAkB,CAAVC,MAAU,MAAVA,MAAU,CAC1C,GAAMC,CAAAA,KAAK,CAAGD,MAAM,CAACE,UAArB,CAEAZ,OAAO,CAAGW,KAAK,CAACE,UAAN,CAAiB,UAAjB,CAA6B,CAAC,CAA9B,CAAV,CACAZ,QAAQ,CAAGU,KAAK,CAACE,UAAN,CAAiB,WAAjB,CAA8B,CAAC,CAA/B,CAAX,CAEAX,OAAO,CAAGM,KAAK,CAAG,EAAlB,CACAJ,QAAQ,CAAIF,OAAO,CAAGF,OAAO,CAACS,MAAnB,CAA6BT,OAAO,CAACQ,KAAhD,CACAH,QAAQ,CAAIH,OAAO,CAAGD,QAAQ,CAACQ,MAApB,CAA8BR,QAAQ,CAACO,KAAlD,CACD,CAVI,CAWLM,MAXK,iBAWEC,KAXF,aAWqD,IAA1CC,CAAAA,IAA0C,OAA1CA,IAA0C,IAAhCC,CAAAA,KAAgC,OAAhCA,KAAgC,CAAzBC,MAAyB,OAAzBA,MAAyB,CAAjBV,KAAiB,OAAjBA,KAAiB,CAAVC,MAAU,OAAVA,MAAU,CACxDQ,KAAK,CAACE,aAAN,CAAoBD,MAAM,CAACE,QAA3B,EACAH,KAAK,CAACI,KAAN,GACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGN,IAAI,CAACO,MAAzB,CAAiCD,CAAC,EAAlC,CAAsC,CACpC,GAAIE,CAAAA,OAAO,CAAGvB,QAAd,CACAE,QAAQ,CAAGE,QAAX,CACA,GAAIW,IAAI,CAACM,CAAD,CAAJ,CAAQG,IAAZ,CAAkB,CAChBD,OAAO,CAAGxB,OAAV,CACAG,QAAQ,CAAGC,QAAX,CACD,CACDoB,OAAO,CAACE,IAAR,CACET,KADF,CAEET,KAAK,CAAG,GAAR,CAAcc,CAAC,EAAIpB,OAAO,CAAGM,KAAK,CAAG,EAAtB,CAFjB,CAGEC,MAAM,CAAG,EAAT,CAAcN,QAAQ,CAAG,CAH3B,CAIED,OAJF,CAKEC,QALF,EAOD,CACDc,KAAK,CAACU,GAAN,GACD,CA9BI,CAAP,CAgCD,CApCD,CAsCA,cAAe5B,CAAAA,sBAAf","sourcesContent":["const createLifeRenderSystem = () => {\r\n  let openEye, closeEye;\r\n  let L_WIDTH, L_HEIGHT;\r\n  let O_HEIGHT, C_HEIGHT;\r\n  return {\r\n    init(worldState, { width, height, assets }) {\r\n      const atlas = assets.gameAssets;\r\n\r\n      openEye = atlas.findRegion(\"open_eye\", -1);\r\n      closeEye = atlas.findRegion(\"close_eye\", -1);\r\n\r\n      L_WIDTH = width / 11;\r\n      O_HEIGHT = (L_WIDTH * openEye.height) / openEye.width;\r\n      C_HEIGHT = (L_WIDTH * closeEye.height) / closeEye.width;\r\n    },\r\n    update(delta, { life }, { batch, camera, width, height }) {\r\n      batch.setProjection(camera.combined);\r\n      batch.begin();\r\n      for (let i = 0; i < life.length; i++) {\r\n        let lifeTex = closeEye;\r\n        L_HEIGHT = C_HEIGHT;\r\n        if (life[i].open) {\r\n          lifeTex = openEye;\r\n          L_HEIGHT = O_HEIGHT;\r\n        }\r\n        lifeTex.draw(\r\n          batch,\r\n          width / 1.6 + i * (L_WIDTH + width / 50),\r\n          height / 15 - L_HEIGHT / 2,\r\n          L_WIDTH,\r\n          L_HEIGHT\r\n        );\r\n      }\r\n      batch.end();\r\n    },\r\n  };\r\n};\r\n\r\nexport default createLifeRenderSystem;\r\n"]},"metadata":{},"sourceType":"module"}